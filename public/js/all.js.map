{"version":3,"sources":["app.js","controllers/account.js","controllers/auth.js","controllers/companies.js","controllers/company.js","controllers/job.js","controllers/jobs.js","controllers/main.js","controllers/user.js","services/accountData.js","services/auth.js","services/companies.js","services/elements.js","services/form.js","services/jobs.js","services/location.js","services/modal.js","services/validation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["'use strict';\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name jpApp\r\n * @description\r\n * # jpApp\r\n *\r\n * Main module of the application.\r\n */\r\nangular\r\n\t.module('jpApp', [\r\n\t\t'ngAnimate',\r\n\t\t'ngCookies',\r\n\t\t'ngResource',\r\n\t\t'ngRoute',\r\n\t\t'ngSanitize',\r\n\t\t'ngTouch',\r\n\t\t'ui.router', \r\n\t\t'satellizer',\r\n\t\t'mapboxgl-directive'\r\n\t]).run(function($rootScope,$state,$stateParams,$location,$auth,auth) {\r\n\t\t\t\r\n\t\t$rootScope.$location = {};\r\n\t\r\n\t\t$rootScope.$location.base = $location.path().split('\\/')[1];\r\n\t\t\r\n\t\tangular.element('.loader').show();\r\n\t\t\r\n\t\t//console.log('Runtime State',$state);\r\n\t\t//Bind when to rootScope\r\n\t\t$rootScope.$state = $state;\r\n\t\t$rootScope.$stateParams = $stateParams;\r\n\t\t$rootScope.$auth = $auth;\r\n\t\t\r\n\t\tconsole.log('Runtime RootScope',$rootScope);\r\n\t\tconsole.log('Logged in?',$rootScope.$auth.isAuthenticated());\r\n\t\tconsole.log('Logged payload',$rootScope.$auth.getPayload());\r\n\t\tconsole.log('Logged Token',$rootScope.$auth.getToken());\r\n\r\n\t\tvar userData = auth.getCookie('auth') ? JSON.parse(auth.getCookie('auth')) : null;\r\n\t\t\r\n\t\t$rootScope.user = {};\r\n\t\t\r\n\t\t$rootScope.$auth.isAuthenticated() && typeof(userData) !== 'undefined' ?\r\n\t\t\t\r\n\t\t\t$rootScope.user.info = userData\r\n\t\t\t\r\n\t\t: null;\r\n\r\n\t\r\n\t}).config(function ($routeProvider,$locationProvider,$stateProvider, $urlRouterProvider, $authProvider) {\r\n\t\tconsole.log('Route Provider',$routeProvider);\r\n\t\t\r\n\t\t$authProvider.loginUrl = '/api/login';\r\n\t\t\r\n\t\t$authProvider.linkedin({\r\n\t\t\tclientId: '75835cv03xc5be',\r\n\t\t\turl: '/api/auth/linkedin'\r\n\t\t});\r\n\t\t\r\n\t\t//$urlRouterProvider.otherwise('/');\r\n\t\t\r\n\t\t$routeProvider\r\n\t\t//$stateProvider\r\n\t\t\t.when('/',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/main.html',\r\n\t\t\t\tcontroller\t:\t'MainCtrl',\r\n\t\t\t\tcontrollerAs\t:\t'main',\r\n\t\t\t\tresolve : {\r\n\t\t\t\t\tinit : function($rootScope,accountData){\r\n\t\t\t\t\t\tconsole.log('rootScope',$rootScope);\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.logged_in = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar location = accountData.setUserLocation();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.$location.title = 'Jobs in '+$rootScope.user.location.location;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn location;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.when('/jobs',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/jobs.html',\r\n\t\t\t\tcontroller\t:\t'JobsCtrl',\r\n\t\t\t\tcontrollerAs: \t'jobs',\r\n\t\t\t\tresolve:\t{\r\n\t\t\t\t\tjobsData : function(jobs,$rootScope){\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('.loader').show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn jobs.getData('jobs').then(function(result){\r\n\t\t\t\t\t\t\tconsole.log('Got some jobs',result);\r\n\t\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\treturn result.data.data;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.when('/jobs/:jobId',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/partials/jobs/view-job.html',\r\n\t\t\t\tcontroller\t:\t'JobCtrl',\r\n\t\t\t\tcontrollerAs: \t'job',\r\n\t\t\t\tresolve : {\r\n\t\t\t\r\n\t\t\t\t\tjobData : function(jobs,$route,$rootScope,auth){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('.loader').show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('$rootScope.user', $rootScope.$auth.isAuthenticated());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn jobs.getData('jobs',$route.current.params.jobId).then(function(result){\r\n\t\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\treturn result.data;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.when('/companies',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/companies.html',\r\n\t\t\t\tcontroller\t:\t'CompaniesCtrl',\r\n\t\t\t\tcontrollerAs: \t'Companies',\r\n\t\t\t\tresolve : {\r\n\t\t\t\t\tcompaniesData : function(companies,$route,$rootScope){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('.loader').show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn companies.getData('companies').then(function(result){\r\n\t\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\treturn result.data;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.when('/companies/:companyId',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/partials/companies/view-company.html',\r\n\t\t\t\tcontroller\t:\t'CompanyCtrl',\r\n\t\t\t\tcontrollerAs: \t'Company',\r\n\t\t\t\tresolve \t: {\r\n\t\t\t\t\t\r\n\t\t\t\t\tcompanyData : function(companies,$route,$rootScope){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('.loader').show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn companies.getData('companies',$route.current.params.companyId).then(function(result){\r\n\t\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\treturn result.data;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.when('/myaccount',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/partials/account/view-account.html',\r\n\t\t\t\tcontroller\t:\t'AccountCtrl',\r\n\t\t\t\tcontrollerAs: \t'Account',\r\n\t\t\t\tresolve \t: {\r\n\t\t\t\t\tuser : function(accountData,$rootScope,auth){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar user_id = JSON.parse(auth.getCookie('auth')).id;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn accountData.getUserData(user_id).then(function(result){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\t\tconsole.log('Error',error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.when('/myaccount/edit',{\r\n\t\t\t\ttemplate\t:\tfunction(d){\r\n\t\t\t\t\t//console.log('Edit Profile',d);\r\n\t\t\t\t\treturn form.editProfile();\r\n\t\t\t\t},\r\n\t\t\t\tcontroller\t:\t'AccountCtrl',\r\n\t\t\t\tcontrollerAs: \t'Account',\r\n\t\t\t\tresolve \t: {\r\n\t\t\t\t\tuser : function(accountData,$rootScope){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.$location.title = $rootScope.$location.base;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn accountData.getUserData().then(function(result){\r\n\t\t\t\t\t\t\tconsole.log('Result',result);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tangular.element('.loader').hide();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\t\tconsole.log('Error',error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.otherwise({\r\n\t\t\t\ttemplateUrl : \t'Not Found'\r\n\t\t\t});\r\n   \r\n\t\t\t$stateProvider\r\n\t\t\t.state('/myaccount',{\r\n\t\t\t\ttemplateUrl\t:\t'/views/partials/account/account.html',\r\n\t\t\t\tcontroller\t:\t'AccountCtrl',\r\n\t\t\t\tcontrollerAs: \t'Account',\r\n\t\t\t\tresolve \t: {\r\n\t\t\t\t\taccountData : function(accountDataService){\r\n\t\t\t\t\t\treturn accountDataService.then(function(result){\r\n\t\t\t\t\t\t\tconsole.log('Result',result);\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\t\tconsole.log('Error',error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t}).filter('trusted', function ($sce) {\r\n\t\treturn function(url) {\r\n\t\t\treturn $sce.trustAsResourceUrl(url);\r\n\t\t};\r\n\t}).filter('moment', function () {\r\n\t\treturn function(val,format) {\r\n\t\t\tvar relative_str;\r\n\t\t\t\r\n\t\t\trelative_str = moment(val, (format ? format : \"YYYYMMDD\")).fromNow();\r\n\t\t\t\r\n\t\t\treturn relative_str;\r\n\t\t};\r\n\t}).constant('mapSettings', function() {\r\n\t\treturn {\r\n\t\t\tstyleUrl : 'mapbox://styles/purplenimbus/cj59voeq26auw2snweqgxunkf'\r\n\t\t};\r\n\t});\r\n  \r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:AccountCtrl\r\n * @description\r\n * # AccountCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('AccountCtrl', function ($scope,jobs,$route,$location,$filter,modal,elements,$rootScope,form,user,accountData,auth)\r\n\t{\r\n\t\t\t\t\r\n\t\tthis.user = JSON.parse(auth.getCookie('auth'));\r\n\t\t\t\t\t\t\r\n\t\tvar AccountCtrl = this;\r\n\t\t\r\n\t\tconsole.log('User',user);\r\n\t\t\t\t\t\t\t\t\r\n\t\t$scope.currentAsset = user.data[0].resume ? JSON.parse(user.data[0].resume) : { experience:[],education:[]};\r\n\t\t\r\n\t\t$scope.currentAsset.user = AccountCtrl.user;\r\n\t\t\r\n\t\tvar autocomplete;\r\n\t\r\n\t\t//angular.element('ul.tabs').tabs(); //Initialize Tabs\r\n\t\t\t\t\r\n\t\t/**\r\n\t\t * Edit User Profile\r\n\t\t */\r\n\t\t$scope.edit = function(){\r\n\t\t\tvar modalType\t=\t'bottom-sheet',\r\n\t\t\t\tmodalTitle\t=\t'',\r\n\t\t\t\tmodalBody\t=\t'',\r\n\t\t\t\tmodalFooter\t=\t'';\r\n\t\t\t\r\n\t\t\tmodalTitle\t+=\t'<h4>Edit Profile</h4>';\r\n\t\t\t//modalTitle\t+=\t'<div class=\"right\">'+elements.form.check({name : 'status' , model:'currentAsset.status',colSize: 12,label1:'draft',label2:'published'})+'</div>';\r\n\t\t\t\r\n\t\t\tmodalFooter\t+=\telements.button({\ttype\t:\t'button',\tcls:\t'btn  red accent-4',\tngClick\t:\t'reset()'\t, label : 'Cancel'});\r\n\t\t\tmodalFooter\t+=\telements.button({\ttype\t:\t'submit',\tcls:\t'btn',\tngClick\t:\t'updateProfile()'\t, label : 'Save'});\r\n\t\t\t\r\n\t\t\tmodalBody\t=\tform.editProfile();\r\n\t\t\t\r\n\t\t\tmodal.modal(modalType,modalTitle,modalBody,modalFooter,$scope).then(function(result){\r\n\t\t\t\tangular.element('select').material_select();\r\n\t\t\t\t//Input elements need to converted to directives\r\n\t\t\t\tCKEDITOR.editorConfig\t=\tfunction( config ){\r\n\t\t\t\t\tconfig.toolbar\t=\t[\r\n\t\t\t\t\t\t{name:'clipboard',items:['Cut','Copy','Paste','PasteText','Undo','Redo']},\r\n\t\t\t\t\t\t{name:'paragraph',items:['NumberedList','BulletedList']}\r\n\t\t\t\t\t];\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tCKEDITOR.replace( 'job_description' ).on( 'change', function( evt ) {\r\n\t\t\t\t\tJobCtrl.currentAsset.description = evt.editor.getData();\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.chips-autocomplete').material_chip();\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.chips-autocomplete').material_chip({\r\n\t\t\t\t\tplaceholder: 'Skills',\r\n\t\t\t\t\tautocompleteData: {\r\n\t\t\t\t\t  'Apple': null,\r\n\t\t\t\t\t  'Microsoft': null,\r\n\t\t\t\t\t  'Google': null\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.chips-autocomplete').on('chip.add', function(e, chip){\r\n\t\t\t\t\tJobCtrl.currentAsset.required_skills = angular.element(this).material_chip('data');\r\n\t\t\t\t}).on('chip.delete', function(e, chip){\r\n\t\t\t\t\tJobCtrl.currentAsset.required_skills = angular.element(this).material_chip('data');\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\tconsole.log(elements.form.bloodhound('/api/job_skills').index.datums);\r\n\t\t\t\t\r\n\t\t\t\t// Create the autocomplete object, restricting the search to geographical\r\n\t\t\t\t// location types.\r\n\t\t\t\tautocomplete = new google.maps.places.Autocomplete(\r\n\t\t\t\t\t/** @type {!HTMLInputElement} */(angular.element('input#job_location').get(0)),\r\n\t\t\t\t\t{types: ['geocode']});\r\n\r\n\t\t\t\t// When the user selects an address from the dropdown, populate the address\r\n\t\t\t\t// fields in the form.\r\n\t\t\t\tautocomplete.addListener('place_changed', function(){\r\n\t\t\t\t\tvar place = this.getPlace();\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('Place',place);\r\n\t\t\t\t\t//console.log('Place Long',place.geometry.location.lng());\r\n\t\t\t\t\t\r\n\t\t\t\t\tJobCtrl.currentAsset.location = { searched : true };\r\n\t\t\t\t\t\r\n\t\t\t\t\tJobCtrl.currentAsset.location.name = place.formatted_address;//place.name ? place.name : '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tplace.address_components.map(function(value,key){\r\n\t\t\t\t\t\tconsole.log('Value',value);\r\n\t\t\t\t\t\tJobCtrl.currentAsset.location[value.types[0]] = {};\r\n\t\t\t\t\t\tJobCtrl.currentAsset.location[value.types[0]].long_name = value.long_name ? value.long_name : '';\r\n\t\t\t\t\t\tJobCtrl.currentAsset.location[value.types[0]].short_name = value.short_name ? value.short_name : '';\r\n\t\t\t\t\t});\r\n\t\t\t\t\tJobCtrl.currentAsset.location.place_id = place.place_id ? place.place_id : '';\r\n\t\t\t\t\tJobCtrl.currentAsset.location.vicinity = place.vicinity ? place.vicinity : '';\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//Set location long lat\r\n\t\t\t\t\tJobCtrl.currentAsset.location.geo = { \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlng : place.geometry.location.lng(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlat\t: place.geometry.location.lat(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl : place.url\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t//Set url\r\n\t\t\t\t\tconsole.log('Location Asset',JobCtrl.currentAsset.location);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tvar slider = angular.element('#pay').get(0);\r\n\t\t\t\t//console.log('Salary',parseInt($scope.currentAsset.salary.split(',')[0].toString().replace(/$$|.000/g,'')));\t\t\t\t\r\n\t\t\t\t//console.log('Salary Scope',$scope);\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tnoUiSlider.create(slider, {\r\n\t\t\t\t\tstart: JobCtrl.currentAsset.salary ? [parseInt(JobCtrl.currentAsset.salary.split(',')[0].toString().replace(/$$|.000/g,'')), \r\n\t\t\t\t\t\t\tparseInt(JobCtrl.currentAsset.salary.split(',')[1].toString().replace(/$$|.000/g,''))] : [0,100],\r\n\t\t\t\t\tconnect: true,\r\n\t\t\t\t\tstep: 5,\r\n\t\t\t\t\trange: {\r\n\t\t\t\t\t\t'min': 0,\r\n\t\t\t\t\t\t'max': 1000\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformat: wNumb({\r\n\t\t\t\t\t\tdecimals: 0,\r\n\t\t\t\t\t\tthousand: '.',\r\n\t\t\t\t\t\t//prefix: '$',\r\n\t\t\t\t\t\tpostfix: '.000'\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tslider.noUiSlider.on('update', function(value,handle){\r\n\t\t\t\t\tconsole.log('Slider Changed',value.toString());\r\n\t\t\t\t\tJobCtrl.currentAsset.pay.value  = value;\r\n\t\t\t\t\tJobCtrl.currentAsset.salary  = value.toString();\r\n\t\t\t\t\tJobCtrl.currentAsset.pay.min = value[0];\r\n\t\t\t\t\tangular.element('.range-field span.min').html(value[0]);\r\n\t\t\t\t\tJobCtrl.currentAsset.pay.max  = value[1];\r\n\t\t\t\t\tangular.element('.range-field span.max').html(value[1]);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t//Initalize Datepicker\r\n\t\t\t\tangular.element('.datepicker').each(function(key,value){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar name = angular.element(value).get(0).name;\r\n\t\t\t\t\t\r\n\t\t\t\t\tangular.element('#'+name).pickadate({\r\n\t\t\t\t\t\tselectMonths: true, // Creates a dropdown to control month\r\n\t\t\t\t\t}).on('change',function(e){\r\n\t\t\t\t\t\t$scope.currentAsset[name] = new Date(angular.element(e.currentTarget).val());\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t//Initalize Typeahead\r\n\t\t\t\tangular.element('.typeahead').each(function(key,value){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar name = angular.element(value).get(0).name;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tangular.element('#'+name).typeahead(null, {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tdisplay: 'name',\r\n\t\t\t\t\t\tsource: elements.form.bloodhound('/api/'+name).ttAdapter(),\r\n\t\t\t\t\t\thint: true,\r\n\t\t\t\t\t\thighlight: true,\r\n\t\t\t\t\t\tminLength: 0,\r\n\t\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\t\ttemplates: {\r\n\t\t\t\t\t\t\tempty: [\r\n\t\t\t\t\t\t\t\t'<div class=\"tt-suggestion tt-empty-message collection\">',\r\n\t\t\t\t\t\t\t\t'No results were found ...',\r\n\t\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t].join('\\n'),\r\n\t\t\t\t\t\t\t//header: '<div class=\"collection-header\"><h6>'+name+'</h6></div>'\r\n\t\t\t\t\t\t\t//suggestion: Handlebars.compile('<div class=\"collection-item\">{{value}}</div>')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassNames: {\r\n\t\t\t\t\t\t\tselectable: 'collection-item',\r\n\t\t\t\t\t\t\tdataset : 'collection'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t//identify: function(obj) { return obj.name; },\r\n\t\t\t\t\t}).bind('typeahead:select', function(ev, suggestion) {\r\n\t\t\t\t\t\tvar asset = angular.element(ev.currentTarget).get(0).dataset.asset;\r\n\t\t\t\t\t\t//console.log('Selection(name): ' + suggestion.name);\r\n\t\t\t\t\t\t//console.log('Selection(id): ' + suggestion.id);\r\n\t\t\t\t\t\t//console.log('event: ' + asset);\r\n\t\t\t\t\t\tJobCtrl.currentAsset[asset] = suggestion;\r\n\t\t\t\t\t\t//$scope.currentAsset[asset].name = suggestion.name;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('Scope asset(id): ' + JobCtrl.currentAsset[asset].id);\r\n\t\t\t\t\t\tconsole.log('Scope asset(name): ' + JobCtrl.currentAsset[asset].name);\r\n\t\t\t\t\t\t//$scope.currentAsset\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('Check current asset',JobCtrl.currentAsset.status === 1);\r\n\t\t\t\t\r\n\t\t\t\tJobCtrl.currentAsset.status === 1 ? angular.element('#status').get(0).checked = true : null;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Save User Profile\r\n\t\t */\r\n\t\t$scope.updateProfile = function(){\r\n\t\t\tvar self = this;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\taccountData.saveData(AccountCtrl.user.id,$scope.currentAsset).then(function(result){\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\t$scope.reset();\r\n\t\t\t}).catch(function(error){\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\t//TO DO : DO Something if updating profile fails\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Reset Page\r\n\t\t */\r\n\t\t$scope.reset = function(){\r\n\t\t\tconsole.log('Edit Cancelled');\r\n\t\t\tangular.element('#modal').modal('close');\r\n\t\t\t//angular.element('#job_location').val('');\r\n\t\t\t//angular.element('#modal form').get(0).reset();\r\n\t\t\t//$scope.currentAsset = $scope.cache;\r\n\t\t\t$route.reload();\r\n\t\t}\r\n\t\t/**\r\n\t\t * Add New Experience field when editing profile\r\n\t\t */\r\n\t\t$scope.addExperience = function(){\r\n\t\t\t$scope.currentAsset.experience.push({});\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Delete Experience field when editing profile\r\n\t\t * \r\n\t\t * @param {int} index - array index \r\n\t\t * \r\n\t\t */\r\n\t\t$scope.removeExperience = function(index){\r\n\t\t\tconsole.log('removeExperience',index);\r\n\t\t\t$scope.currentAsset.experience.splice(index,1);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Add New Education field when editing profile\r\n\t\t */\r\n\t\t$scope.addEducation = function(){\r\n\t\t\t$scope.currentAsset.education.push({});\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Delete Education field when editing profile\r\n\t\t * \r\n\t\t * @param {int} index - array index \r\n\t\t * \r\n\t\t */\r\n\t\t$scope.removeEducation = function(index){\r\n\t\t\tconsole.log('removeEducation',index);\r\n\t\t\t$scope.currentAsset.education.splice(index,1);\r\n\t\t}\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:AuthCtrl\r\n * @description\r\n * # AuthCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('AuthCtrl', function ($auth,$state,$rootScope,$scope,validation,form,elements,modal,jobs,companies,$location,$route,auth,$window) {\r\n\t\t\r\n\t\t//$rootScope.loggedIn = false; //Initialize logged in flag\r\n\t\t\r\n        $scope.login = function($event) {\r\n\t\t\t\r\n\t\t\t//$event.preventDefault();\r\n\t\t\t\r\n\t\t\tvar modalContent\t=\tangular.element($event.currentTarget).parents()[1],\r\n\t\t\t\tform\t\t\t=\tangular.element(modalContent).find('form').serializeArray(),\r\n\t\t\t\tcredentials\t\t=\t{\r\n\t\t\t\t\temail\t\t:\t$scope.email,\r\n\t\t\t\t\tpassword\t: \t$scope.password\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\tconsole.log('Login Details',credentials);\r\n\t\t\t\t\r\n\t\t\tvalidation.validate(form).then(function(result){\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tangular.element('#modal .uk-modal-spinner').removeClass('uk-hidden');\r\n\t\t\t\tif(result.valid){\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t//Use Satellizer's $auth service to login\r\n\t\t\t\t\t$auth.login(credentials).then(function(result) {\r\n\t\t\t\t\t\tconsole.log('Data',result);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('#modal .uk-modal-dialog').removeClass('error')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.addClass('success');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('#modal .uk-alert')\r\n\t\t\t\t\t\t\t\t.removeClass('uk-hidden uk-alert-danger')\r\n\t\t\t\t\t\t\t\t.addClass('uk-alert-success')\r\n\t\t\t\t\t\t\t\t.children('p')\r\n\t\t\t\t\t\t\t\t.html('Logged In Successfully'); //Show Success Alert\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.user = {};\r\n\t\t\t\t\t\tconsole.log('Logged in Rootscope',$rootScope);\r\n\t\t\t\t\t\tconsole.log('Logged in Auth',$auth.isAuthenticated());\r\n\t\t\t\t\t\tconsole.log('Logged in token',$auth.getToken());\r\n\t\t\t\t\t\tconsole.log('Logged in payload',$auth.getPayload());\r\n\t\t\t\t\t\tauth.setCookie('auth',JSON.stringify(result.data.user),9);\r\n\t\t\t\t\t\t$rootScope.user.info = result.data.user;\r\n\t\t\t\t\t\tangular.element('#modal .uk-modal-spinner').addClass('uk-hidden');//remove spinner\r\n\t\t\t\t\t\t$scope.closeModal();\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\tconsole.log('Login Error',error);\r\n\t\t\t\t\t\t//TO DO Add Error Message to login modal\r\n\t\t\t\t\t\tangular.element('#modal .uk-modal-dialog').removeClass('success')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.addClass('error');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.element('#modal .uk-modal-spinner').addClass('uk-hidden'); //remove spinner\r\n\t\t\t\t\t\tangular.element('#modal .uk-alert')\r\n\t\t\t\t\t\t\t\t.removeClass('uk-hidden uk-alert-success')\r\n\t\t\t\t\t\t\t\t.addClass('uk-alert-danger')\r\n\t\t\t\t\t\t\t\t.children('p')\r\n\t\t\t\t\t\t\t\t.html('Invalid Login');//Add error message\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t//TO DO Add Validation Error Message to login modal\r\n\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n            \r\n        };\r\n\t\t\r\n\t\t$scope.showLoginModal\t=\tfunction(){\r\n\t\t\tvar modalType\t=\t'login',\r\n\t\t\t\tmodalTitle\t=\t'',\r\n\t\t\t\tmodalBody\t=\tform.login(),\r\n\t\t\t\tmodalFooter\t=\t'';//elements.button({\ttype\t:\t'submit',\tcls:\t'btn teal accent-3',\tngClick\t:\t'login($event)'\t},'Login');\r\n\t\t\t\t\r\n\t\t\tmodal.modal(modalType,modalTitle,modalBody,modalFooter,$scope).then(function(result){\r\n\t\t\t\t//console.log(result);\r\n\t\t\t\tconsole.log('Auth Details',$rootScope);\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\t$scope.authenticate = function(provider) {\r\n\t\t\t$auth.authenticate(provider);\r\n\t\t};\r\n\t\t\r\n\t\t$scope.logout = function() {\r\n\t\t\t$auth.logout();\r\n\t\t\t\r\n\t\t\t$location.path(\"/\");\r\n\t\t};\r\n\t\t\r\n\t\t$scope.closeModal\t=\tfunction(){\r\n\t\t\tangular.element('#modal').hide();\r\n\t\t};\r\n\t\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:JobsCtrl\r\n * @description\r\n * # JobsCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('CompaniesCtrl', function ($scope,jobs,companies,$routeParams,$route,$location,$compile,$rootScope,companiesData)\r\n\t{\r\n\t\tthis.awesomeThings = [\r\n\t\t  'HTML5 Boilerplate',\r\n\t\t  'AngularJS',\r\n\t\t  'Karma'\r\n\t\t];\r\n\t\t\r\n\t\t$scope.companies = this.companies = companiesData;\r\n\t\t\r\n\t\tconsole.log('Companies ',this.companies);\r\n\t});","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:JobsCtrl\r\n * @description\r\n * # CompanysCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('CompanyCtrl', function ($scope,companies,jobs,$route,$location,$filter,modal,elements,$rootScope,form,companyData,$window,accountData)\r\n\t{\r\n\t\t\r\n\t\tvar autocomplete,CompanyCtrl = this;\r\n\t\t\r\n\t\tthis.data = {};\r\n\t\t\r\n\t\tconsole.log($route);\r\n\t\t\r\n\t\t$scope.currentAsset = CompanyCtrl.currentAsset = companyData;\r\n\t\t\r\n\t\tconsole.log('Company Updates',$scope.currentAsset,$window);\r\n\t\t\r\n\t\tif(!$rootScope.user.location){\r\n\t\t\taccountData.setUserLocation().then(function(result){\r\n\t\t\t\tconsole.log('setUserLocation',result);\r\n\t\t\t\tconsole.log('User Root Geo',$rootScope.user.location);\r\n\t\t\t\t\r\n\t\t\t\tvar home = new mapboxgl.LngLat(result[1].geometry.location.lng(), result[1].geometry.location.lat());\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('User Home Geo',home);\r\n\t\t\t\t\r\n\t\t\t\tvar map = new mapboxgl.Map({\r\n\t\t\t\t\tcontainer: 'map',\r\n\t\t\t\t\tstyle: 'mapbox://styles/purplenimbus/cj59u1c0r69x52sl0qejv56mm',\r\n\t\t\t\t\tcenter: home,\r\n\t\t\t\t\tzoom: 10\r\n\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t// Add geolocate control to the map.\r\n\t\t\t\tmap.addControl(new mapboxgl.GeolocateControl());\r\n\t\t\t\t\r\n\t\t\t\tmap.on('load', function () {\r\n\t\t\t\t\tif(CompanyCtrl.currentAsset.location){\r\n\t\t\t\t\t\tvar marker = new mapboxgl.Marker()\r\n\t\t\t\t\t\t\t\t  .setLngLat([parseInt(CompanyCtrl.currentAsset.location.lng), parseInt(CompanyCtrl.currentAsset.location.lat)])\r\n\t\t\t\t\t\t\t\t  .addTo(map);\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t$scope.companyOptions = function(options) {\r\n\t\t\tswitch(options){\r\n\t\t\t\tcase 'company_status' :  return function(){\r\n\t\t\t\t\tvar selected = $filter('filter')($rootScope.company.options.company_status, {value: CompanyCtrl.currentAsset.status});\r\n\t\t\t\t\treturn (CompanyCtrl.currentAsset.status && selected.length) ? selected[0].text : 'Not set';\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t$scope.updateCompany = function(){\t\t\t\r\n\t\t\t\r\n\t\t\tthis.data\t=\t{\r\n\t\t\t\tid : CompanyCtrl.currentAsset.id,\r\n\t\t\t\tname : CompanyCtrl.currentAsset.name,\r\n\t\t\t\tdescription : CompanyCtrl.currentAsset.description,\r\n\t\t\t\tcompany_category_id : CompanyCtrl.currentAsset.company_category.id,\r\n\t\t\t\temail : CompanyCtrl.currentAsset.email,\r\n\t\t\t\taddress : CompanyCtrl.currentAsset.address,\r\n\t\t\t\tzipcode\t: CompanyCtrl.currentAsset.zipcode,\r\n\t\t\t\tphone : CompanyCtrl.currentAsset.phone,\r\n\t\t\t\tlogo : CompanyCtrl.currentAsset.logo,\r\n\t\t\t\tstatus : CompanyCtrl.currentAsset.status\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log('Data',this.data);\r\n\t\t\t\r\n\t\t\tcompanies.sendData('companies',$route.current.params.companyId,this.data).then(function(result){\r\n\t\t\t\tconsole.log('Got a Response',result);\r\n\t\t\t\t$scope.cancel();\r\n\t\t\t\t////$scope.currentAsset = result.data;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t$scope.cancel = function(){\r\n\t\t\tconsole.log('Edit Cancelled');\r\n\t\t\tangular.element('#modal').modal('close');\r\n\t\t\t//angular.element('#job_location').val('');\r\n\t\t\t//angular.element('#modal form').get(0).reset();\r\n\t\t\t//$scope.currentAsset = $scope.cache;\r\n\t\t\t$route.reload();\r\n\t\t}\r\n\t\t\r\n\t\t$scope.edit = function(){\r\n\t\t\tvar modalType\t=\t'bottom-sheet',\r\n\t\t\t\tmodalTitle\t=\t'',\r\n\t\t\t\tmodalBody\t=\t'',\r\n\t\t\t\tmodalFooter\t=\t'';\r\n\t\t\t\r\n\t\t\tmodalTitle\t+=\t'<h4 class=\"left\">Edit Company</h4>';\r\n\t\t\tmodalTitle\t+=\t'<div class=\"right\">'+elements.form.check({name : 'company_category' , model:'currentAsset.status',colSize: 12,label1:'Draft',label2:'Published'})+'</div>';\r\n\t\t\t\r\n\t\t\tmodalFooter\t+=\telements.button({\ttype\t:\t'button',\tcls:\t'btn  red accent-4',\tngClick\t:\t'cancel()'\t, label : 'Cancel'});\r\n\t\t\tmodalFooter\t+=\telements.button({\ttype\t:\t'submit',\tcls:\t'btn',\tngClick\t:\t'updateCompany()'\t, label : 'Save'});\r\n\t\t\t\r\n\t\t\tmodalBody\t=\tform.editCompany();\r\n\t\t\t\r\n\t\t\tmodal.modal(modalType,modalTitle,modalBody,modalFooter,$scope).then(function(result){\r\n\t\t\t\tangular.element('select').material_select();\r\n\t\t\t\t\r\n\t\t\t\tCKEDITOR.editorConfig\t=\tfunction( config ){\r\n\t\t\t\t\tconfig.toolbar\t=\t[\r\n\t\t\t\t\t\t{name:'clipboard',items:['Cut','Copy','Paste','PasteText','Undo','Redo']},\r\n\t\t\t\t\t\t{name:'paragraph',items:['NumberedList','BulletedList']}\r\n\t\t\t\t\t];\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tCKEDITOR.replace( 'company_description' ).on( 'change', function( evt ) {\r\n\t\t\t\t\tCompanyCtrl.currentAsset.description = evt.editor.getData();\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\tangular.element('.chips-initial').on('chip.add', function(e, chip){\r\n\t\t\t\t\tCompanyCtrl.currentAsset.required_skills = angular.element(this).material_chip('data');\r\n\t\t\t\t}).on('chip.delete', function(e, chip){\r\n\t\t\t\t\tCompanyCtrl.currentAsset.required_skills = angular.element(this).material_chip('data');\r\n\t\t\t\t}).material_chip({\r\n\t\t\t\t\tplaceholder: 'Skills',\r\n\t\t\t\t\tdata: CompanyCtrl.currentAsset.required_skills\r\n\t\t\t\t});\r\n\t\t\t\t*/\r\n\t\t\t\t\r\n\t\t\t\t// Create the autocomplete object, restricting the search to geographical\r\n\t\t\t\t// location types.\r\n\t\t\t\tautocomplete = new google.maps.places.Autocomplete(\r\n\t\t\t\t\t/** @type {!HTMLInputElement} */(angular.element('input#company_location').get(0)),\r\n\t\t\t\t\t{types: ['geocode']});\r\n\r\n\t\t\t\t// When the user selects an address from the dropdown, populate the address\r\n\t\t\t\t// fields in the form.\r\n\t\t\t\tautocomplete.addListener('place_changed', function(){\r\n\t\t\t\t\tvar place = this.getPlace();\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log('Place',place);\r\n\t\t\t\t\t\r\n\t\t\t\t\tCompanyCtrl.currentAsset.location.name = place.name ? place.name : '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tplace.address_components.map(function(value,key){\r\n\t\t\t\t\t\t//console.log('Value',value);\r\n\t\t\t\t\t\tCompanyCtrl.currentAsset.location[value.types[0]] = {};\r\n\t\t\t\t\t\tCompanyCtrl.currentAsset.location[value.types[0]].long_name = value.long_name ? value.long_name : '';\r\n\t\t\t\t\t\tCompanyCtrl.currentAsset.location[value.types[0]].short_name = value.short_name ? value.short_name : '';\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tvar slider = angular.element('#employees').get(0);\r\n\t\t\t\t\r\n\t\t\t\t//Initalize Typeahead\r\n\t\t\t\tangular.element('.typeahead').each(function(key,value){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar name = angular.element(value).get(0).name;\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('Company Cats Bloodhound',elements.form.bloodhound('/company/categories'));\r\n\t\t\t\t\t\r\n\t\t\t\t\tangular.element('#'+name).typeahead(null, {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tdisplay: 'name',\r\n\t\t\t\t\t\tsource: elements.form.bloodhound('/company/categories').ttAdapter(),\r\n\t\t\t\t\t\thint: true,\r\n\t\t\t\t\t\thighlight: true,\r\n\t\t\t\t\t\tminLength: 0,\r\n\t\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\t\ttemplates: {\r\n\t\t\t\t\t\t\tempty: [\r\n\t\t\t\t\t\t\t\t'<div class=\"tt-suggestion tt-empty-message collection\">',\r\n\t\t\t\t\t\t\t\t'No results were found ...',\r\n\t\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t].join('\\n'),\r\n\t\t\t\t\t\t\t//header: '<div class=\"collection-header\"><h6>'+name+'</h6></div>'\r\n\t\t\t\t\t\t\t//suggestion: Handlebars.compile('<div class=\"collection-item\">{{value}}</div>')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassNames: {\r\n\t\t\t\t\t\t\tselectable: 'collection-item',\r\n\t\t\t\t\t\t\tdataset : 'collection'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t//identify: function(obj) { return obj.name; },\r\n\t\t\t\t\t}).bind('typeahead:select', function(ev, suggestion) {\r\n\t\t\t\t\t\tvar asset = angular.element(ev.currentTarget).get(0).dataset.asset;\r\n\t\t\t\t\t\t//console.log('Selection(name): ' + suggestion.name);\r\n\t\t\t\t\t\t//console.log('Selection(id): ' + suggestion.id);\r\n\t\t\t\t\t\t//console.log('event: ' + asset);\r\n\t\t\t\t\t\tCompanyCtrl.currentAsset[asset] = suggestion;\r\n\t\t\t\t\t\t//$scope.currentAsset[asset].name = suggestion.name;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('Scope asset(id): ' + CompanyCtrl.currentAsset[asset].id);\r\n\t\t\t\t\t\tconsole.log('Scope asset(name): ' + CompanyCtrl.currentAsset[asset].name);\r\n\t\t\t\t\t\t//$scope.currentAsset\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:JobCtrl\r\n * @description\r\n * # JobCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('JobCtrl', function ($scope,jobs,$route,$location,$filter,modal,elements,$rootScope,form,jobData,accountData,auth)\r\n\t{\r\n\t\t\r\n\t\tvar JobCtrl = this;\r\n\t\t\r\n\t\t$rootScope.$location.title = '';\r\n\t\t\r\n\t\tvar autocomplete;\r\n\t\t\r\n\t\tJobCtrl.data = {};\r\n\t\t\r\n\t\tconsole.log('jobData',jobData);\r\n\t\t\r\n\t\t$scope.currentAsset = JobCtrl.currentAsset = jobData;\r\n\t\t\r\n\t\tJobCtrl.cache = JobCtrl.currentAsset;//Make a copy of the currentAsset\r\n\t\t\r\n\t\tJobCtrl.currentAsset.pay = {}; //Initalize pay object\r\n\t\t\r\n\t\tconsole.log('Got a job',JobCtrl.currentAsset);\r\n\t\t\r\n\t\t//Parse Date for HTML 5 date element\r\n\t\tJobCtrl.currentAsset.application_deadline ? \r\n\t\t\tJobCtrl.currentAsset.application_deadline = new Date(JobCtrl.currentAsset.application_deadline)\r\n\t\t\t: null;\r\n\t\t\t\r\n\t\t$rootScope.$location.title = JobCtrl.currentAsset.title;\r\n\t\t\r\n\t\tJobCtrl.jobOptions = function(options) {\r\n\t\t\tswitch(options){\r\n\t\t\t\tcase 'job_status' :  return function(){\r\n\t\t\t\t\tvar selected = $filter('filter')($rootScope.job.options.job_status, {value: JobCtrl.currentAsset.status});\r\n\t\t\t\t\treturn (JobCtrl.currentAsset.status && selected.length) ? selected[0].text : 'Not set';\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t$scope.showMap = true;\r\n\t\t\r\n\t\tif(!$rootScope.user.location){\r\n\t\t\taccountData.setUserLocation().then(function(result){\r\n\t\t\t\tconsole.log('setUserLocation',result);\r\n\t\t\t\tconsole.log('User Root Geo',$rootScope.user.location);\r\n\t\t\t\t\r\n\t\t\t\tvar home = new mapboxgl.LngLat(result[1].geometry.location.lng(), result[1].geometry.location.lat());\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('User Home Geo',home);\r\n\t\t\t\t\r\n\t\t\t\tvar map = mapboxgl.Map({\r\n\t\t\t\t\t//container: 'map',\r\n\t\t\t\t\tstyle: 'mapbox://styles/purplenimbus/cj59u1c0r69x52sl0qejv56mm',\r\n\t\t\t\t\tcenter: home,\r\n\t\t\t\t\tzoom: 10\r\n\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t// Add geolocate control to the map.\r\n\t\t\t\tmap.addControl(new mapboxgl.GeolocateControl());\r\n\t\t\t\t\r\n\t\t\t\tmap.on('load', function () {\r\n\t\t\t\t\tif(JobCtrl.currentAsset.location){\r\n\t\t\t\t\t\tvar marker = new mapboxgl.Marker()\r\n\t\t\t\t\t  .setLngLat([parseInt(JobCtrl.currentAsset.location.lng), parseInt(JobCtrl.currentAsset.location.lat)])\r\n\t\t\t\t\t  .addTo(map);\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t/*$scope.$on('mapboxglMap:load', function (angularEvent, mapboxglEvent) {\r\n\t\t\t\t   console.log('Map Loaded',angularEvent,mapboxglEvent);\r\n\t\t\t\t});*/\r\n\t\t\t});\r\n\t\t}\t\t\r\n\t\t/**\r\n\t\t * Update Job\r\n\t\t */\r\n\t\t$scope.updateJob = function(){\t\t\t\r\n\t\t\t\r\n\t\t\tconsole.log('Scope Data',JobCtrl.currentAsset);\r\n\t\t\t\r\n\t\t\tJobCtrl.data\t=\t{\r\n\t\t\t\tid : JobCtrl.currentAsset.id,\r\n\t\t\t\ttitle : JobCtrl.currentAsset.title,\r\n\t\t\t\tdescription : JobCtrl.currentAsset.description,\r\n\t\t\t\t//company_id : JobCtrl.currentAsset.company ? JobCtrl.currentAsset.company.id : null,\r\n\t\t\t\tjob_category_id : JobCtrl.currentAsset.job_category.id,\r\n\t\t\t\tjob_type_id : JobCtrl.currentAsset.job_type.id,\r\n\t\t\t\tjob_level_id : JobCtrl.currentAsset.job_level.id,\r\n\t\t\t\tjob_salary_id : $scope.currentAsset.salary_type ? $scope.currentAsset.salary_type.id : null,\r\n\t\t\t\tapplication_deadline : JobCtrl.currentAsset.application_deadline ? JobCtrl.currentAsset.application_deadline : null,\r\n\t\t\t\tsalary : JobCtrl.currentAsset.salary,\r\n\t\t\t\tstatus : JobCtrl.currentAsset.status,\r\n\t\t\t\tmin_experience : JobCtrl.currentAsset.min_experience,\r\n\t\t\t\tmin_qualification : JobCtrl.currentAsset.min_qualification.name,\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tJobCtrl.currentAsset.location = {}; //Temp work around for testing\r\n\t\t\t\r\n\t\t\tif(JobCtrl.currentAsset.location.searched){\r\n\t\t\t\tJobCtrl.data.location = {\r\n\t\t\t\t\tname : JobCtrl.currentAsset.location.name,\r\n\t\t\t\t\tlocality : JobCtrl.currentAsset.location.neighborhood ? JobCtrl.currentAsset.location.neighborhood.long_name : JobCtrl.currentAsset.location.vicinity,\r\n\t\t\t\t\tcity\t:\tJobCtrl.currentAsset.location.locality.long_name,\r\n\t\t\t\t\tcity_code\t:\tJobCtrl.currentAsset.location.locality.long_name,\r\n\t\t\t\t\tstate\t:\tJobCtrl.currentAsset.location.administrative_area_level_1.long_name ? JobCtrl.currentAsset.location.administrative_area_level_1.long_name : '',\r\n\t\t\t\t\tstate_code\t:\tJobCtrl.currentAsset.location.administrative_area_level_1.short_name ? JobCtrl.currentAsset.location.administrative_area_level_1.short_name : '',\r\n\t\t\t\t\tcountry\t:\tJobCtrl.currentAsset.location.country.long_name ? JobCtrl.currentAsset.location.country.long_name : '',\r\n\t\t\t\t\tcountry_code\t: JobCtrl.currentAsset.location.country.short_name ? JobCtrl.currentAsset.location.country.short_name : '',\r\n\t\t\t\t\tlng\t:\tJobCtrl.currentAsset.location.geo.lng,\r\n\t\t\t\t\tlat\t:\tJobCtrl.currentAsset.location.geo.lat,\r\n\t\t\t\t\tref_id\t:\tJobCtrl.currentAsset.location.place_id,\r\n\t\t\t\t\turl\t:\tJobCtrl.currentAsset.location.geo.url,\r\n\t\t\t\t\tzip_code : JobCtrl.currentAsset.location.zipcode ? JobCtrl.currentAsset.location.zipcode : ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log('Data',JobCtrl.data);\r\n\t\t\t\r\n\t\t\tjobs.sendData('jobs',$route.current.params.jobId,JobCtrl.data).then(function(result){\r\n\t\t\t\tconsole.log('Got a Response',result);\r\n\t\t\t\tJobCtrl.reset();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t\t/**\r\n\t\t * Reset Page\r\n\t\t */\r\n\t\tJobCtrl.reset = function(){\r\n\t\t\tconsole.log('Edit Cancelled');\r\n\t\t\tangular.element('#modal').modal('close');\r\n\t\t\t//angular.element('#job_location').val('');\r\n\t\t\t//angular.element('#modal form').get(0).reset();\r\n\t\t\t//$scope.currentAsset = $scope.cache;\r\n\t\t\t$route.reload();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Edit Job\r\n\t\t */\r\n\t\t$scope.edit = function(){\r\n\t\t\tvar modalType\t=\t'bottom-sheet',\r\n\t\t\t\tmodalTitle\t=\t'',\r\n\t\t\t\tmodalBody\t=\t'',\r\n\t\t\t\tmodalFooter\t=\t'';\r\n\t\t\t\r\n\t\t\tmodalTitle\t+=\t'<h4 class=\"left\">Edit Job</h4>';\r\n\t\t\tmodalTitle\t+=\t'<div class=\"right\">'+elements.form.check({name : 'status' , model:'currentAsset.status',colSize: 12,label1:'draft',label2:'published'})+'</div>';\r\n\t\t\t\r\n\t\t\tmodalFooter\t+=\telements.button({\ttype\t:\t'button',\tcls:\t'btn  red accent-4',\tngClick\t:\t'reset()'\t, label : 'Cancel'});\r\n\t\t\tmodalFooter\t+=\telements.button({\ttype\t:\t'submit',\tcls:\t'btn',\tngClick\t:\t'updateJob()'\t, label : 'Save'});\r\n\t\t\t\r\n\t\t\tmodalBody\t=\tform.editJob();\r\n\t\t\t\r\n\t\t\tmodal.modal(modalType,modalTitle,modalBody,modalFooter,$scope).then(function(result){\r\n\t\t\t\tangular.element('select').material_select();\r\n\t\t\t\t//Input elements need to converted to directives\r\n\t\t\t\tCKEDITOR.editorConfig\t=\tfunction( config ){\r\n\t\t\t\t\tconfig.toolbar\t=\t[\r\n\t\t\t\t\t\t{name:'clipboard',items:['Cut','Copy','Paste','PasteText','Undo','Redo']},\r\n\t\t\t\t\t\t{name:'paragraph',items:['NumberedList','BulletedList']}\r\n\t\t\t\t\t];\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tCKEDITOR.replace( 'job_description' ).on( 'change', function( evt ) {\r\n\t\t\t\t\tJobCtrl.currentAsset.description = evt.editor.getData();\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.chips-autocomplete').material_chip();\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.chips-autocomplete').material_chip({\r\n\t\t\t\t\tplaceholder: 'Skills',\r\n\t\t\t\t\tautocompleteData: {\r\n\t\t\t\t\t  'Apple': null,\r\n\t\t\t\t\t  'Microsoft': null,\r\n\t\t\t\t\t  'Google': null\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t//angular.element(\"#required_skills\").tagit();\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.chips-autocomplete').on('chip.add', function(e, chip){\r\n\t\t\t\t\tJobCtrl.currentAsset.required_skills = angular.element(this).material_chip('data');\r\n\t\t\t\t}).on('chip.delete', function(e, chip){\r\n\t\t\t\t\tJobCtrl.currentAsset.required_skills = angular.element(this).material_chip('data');\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\tconsole.log(elements.form.bloodhound('/api/job_skills').index.datums);\r\n\t\t\t\t\r\n\t\t\t\t// Create the autocomplete object, restricting the search to geographical\r\n\t\t\t\t// location types.\r\n\t\t\t\tautocomplete = new google.maps.places.Autocomplete(\r\n\t\t\t\t\t/** @type {!HTMLInputElement} */(angular.element('input#job_location').get(0)),\r\n\t\t\t\t\t{types: ['geocode']});\r\n\r\n\t\t\t\t// When the user selects an address from the dropdown, populate the address\r\n\t\t\t\t// fields in the form.\r\n\t\t\t\tautocomplete.addListener('place_changed', function(){\r\n\t\t\t\t\tvar place = this.getPlace();\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('Place',place);\r\n\t\t\t\t\t//console.log('Place Long',place.geometry.location.lng());\r\n\t\t\t\t\t\r\n\t\t\t\t\tJobCtrl.currentAsset.location = { searched : true };\r\n\t\t\t\t\t\r\n\t\t\t\t\tJobCtrl.currentAsset.location.name = place.formatted_address;//place.name ? place.name : '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tplace.address_components.map(function(value,key){\r\n\t\t\t\t\t\tconsole.log('Value',value);\r\n\t\t\t\t\t\tJobCtrl.currentAsset.location[value.types[0]] = {};\r\n\t\t\t\t\t\tJobCtrl.currentAsset.location[value.types[0]].long_name = value.long_name ? value.long_name : '';\r\n\t\t\t\t\t\tJobCtrl.currentAsset.location[value.types[0]].short_name = value.short_name ? value.short_name : '';\r\n\t\t\t\t\t});\r\n\t\t\t\t\tJobCtrl.currentAsset.location.place_id = place.place_id ? place.place_id : '';\r\n\t\t\t\t\tJobCtrl.currentAsset.location.vicinity = place.vicinity ? place.vicinity : '';\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//Set location long lat\r\n\t\t\t\t\tJobCtrl.currentAsset.location.geo = { \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlng : place.geometry.location.lng(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlat\t: place.geometry.location.lat(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl : place.url\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t//Set url\r\n\t\t\t\t\tconsole.log('Location Asset',JobCtrl.currentAsset.location);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tvar slider = angular.element('#pay').get(0);\r\n\t\t\t\t//console.log('Salary',parseInt($scope.currentAsset.salary.split(',')[0].toString().replace(/$$|.000/g,'')));\t\t\t\t\r\n\t\t\t\t//console.log('Salary Scope',$scope);\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tnoUiSlider.create(slider, {\r\n\t\t\t\t\tstart: JobCtrl.currentAsset.salary ? [parseInt(JobCtrl.currentAsset.salary.split(',')[0].toString().replace(/$$|.000/g,'')), \r\n\t\t\t\t\t\t\tparseInt(JobCtrl.currentAsset.salary.split(',')[1].toString().replace(/$$|.000/g,''))] : [0,100],\r\n\t\t\t\t\tconnect: true,\r\n\t\t\t\t\tstep: 5,\r\n\t\t\t\t\trange: {\r\n\t\t\t\t\t\t'min': 0,\r\n\t\t\t\t\t\t'max': 1000\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformat: wNumb({\r\n\t\t\t\t\t\tdecimals: 0,\r\n\t\t\t\t\t\tthousand: '.',\r\n\t\t\t\t\t\t//prefix: '$',\r\n\t\t\t\t\t\tpostfix: '.000'\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tslider.noUiSlider.on('update', function(value,handle){\r\n\t\t\t\t\tconsole.log('Slider Changed',value.toString());\r\n\t\t\t\t\tJobCtrl.currentAsset.pay.value  = value;\r\n\t\t\t\t\tJobCtrl.currentAsset.salary  = value.toString();\r\n\t\t\t\t\tJobCtrl.currentAsset.pay.min = value[0];\r\n\t\t\t\t\tangular.element('.range-field span.min').html(value[0]);\r\n\t\t\t\t\tJobCtrl.currentAsset.pay.max  = value[1];\r\n\t\t\t\t\tangular.element('.range-field span.max').html(value[1]);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tangular.element('.datepicker').pickadate({\r\n\t\t\t\t\tselectMonths: true, // Creates a dropdown to control month\r\n\t\t\t\t}).on('change',function(e){\r\n\t\t\t\t\tJobCtrl.currentAsset.application_deadline = new Date(angular.element(e.currentTarget).val());\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//Initalize Typeahead\r\n\t\t\t\tangular.element('.typeahead').each(function(key,value){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar name = angular.element(value).get(0).name;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tangular.element('#'+name).typeahead(null, {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tdisplay: 'name',\r\n\t\t\t\t\t\tsource: elements.form.bloodhound('/api/'+name).ttAdapter(),\r\n\t\t\t\t\t\thint: true,\r\n\t\t\t\t\t\thighlight: true,\r\n\t\t\t\t\t\tminLength: 0,\r\n\t\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\t\ttemplates: {\r\n\t\t\t\t\t\t\tempty: [\r\n\t\t\t\t\t\t\t\t'<div class=\"tt-suggestion tt-empty-message collection\">',\r\n\t\t\t\t\t\t\t\t'No results were found ...',\r\n\t\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t].join('\\n'),\r\n\t\t\t\t\t\t\t//header: '<div class=\"collection-header\"><h6>'+name+'</h6></div>'\r\n\t\t\t\t\t\t\t//suggestion: Handlebars.compile('<div class=\"collection-item\">{{value}}</div>')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassNames: {\r\n\t\t\t\t\t\t\tselectable: 'collection-item',\r\n\t\t\t\t\t\t\tdataset : 'collection'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t//identify: function(obj) { return obj.name; },\r\n\t\t\t\t\t}).bind('typeahead:select', function(ev, suggestion) {\r\n\t\t\t\t\t\tvar asset = angular.element(ev.currentTarget).get(0).dataset.asset;\r\n\t\t\t\t\t\t//console.log('Selection(name): ' + suggestion.name);\r\n\t\t\t\t\t\t//console.log('Selection(id): ' + suggestion.id);\r\n\t\t\t\t\t\t//console.log('event: ' + asset);\r\n\t\t\t\t\t\tJobCtrl.currentAsset[asset] = suggestion;\r\n\t\t\t\t\t\t//$scope.currentAsset[asset].name = suggestion.name;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('Scope asset(id): ' + JobCtrl.currentAsset[asset].id);\r\n\t\t\t\t\t\tconsole.log('Scope asset(name): ' + JobCtrl.currentAsset[asset].name);\r\n\t\t\t\t\t\t//$scope.currentAsset\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('Check current asset',JobCtrl.currentAsset.status === 1);\r\n\t\t\t\t\r\n\t\t\t\tJobCtrl.currentAsset.status === 1 ? angular.element('#status').get(0).checked = true : null;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\t/**\r\n\t\t * Apply to Job\r\n\t\t * @param {integer} id  - The name of the PUT/POST endpoint\r\n\t\t */\r\n\t\t$scope.apply\t=\tfunction(id,user_id){\r\n\t\t\t$scope.loading = true;\r\n\t\t\tjobs.sendData('jobs',id+'/apply').then(function(result){\r\n\t\t\t\tconsole.log('Application Result',result);\r\n\t\t\t\tif(result.status === 200){\r\n\t\t\t\t\t$scope.currentAsset.user_applied = true;\r\n\t\t\t\t\t$scope.loading = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//handle error\r\n\t\t\t\t}\r\n\t\t\t}).catch(function(error){\r\n\t\t\t\tconsole.log('Application Error',error);\r\n\t\t\t\t//TO DO  DO something\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:JobsCtrl\r\n * @description\r\n * # JobsCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('JobsCtrl', function ($scope,jobs,$routeParams,$route,$location,$compile,$rootScope,jobsData,accountData,mapSettings)\r\n\t{\r\n\t\tvar JobsCtrl = this;\r\n\t\t\r\n\t\tJobsCtrl.jobs = jobsData;\r\n\t\t\r\n\t\t$scope.showMap = true;\r\n\t\t\r\n\t\tif(!$rootScope.user.location){\r\n\t\t\taccountData.setUserLocation().then(function(result){\r\n\t\t\t\t//console.log('setUserLocation',result);\r\n\t\t\t\t//console.log('User Root Geo',$rootScope.user.location);\r\n\t\t\t\t\r\n\t\t\t\t$scope.home = new mapboxgl.LngLat(result[1].geometry.location.lng(), result[1].geometry.location.lat());\r\n\t\t\t\t\r\n\t\t\t\t$scope.mapStyle = mapSettings().styleUrl;\r\n\t\t\t\t\r\n\t\t\t\tvar features = [];\r\n\t\t\t\t\r\n\t\t\t\t$scope.$on('mapboxglMap:load', function (angularEvent, mapboxglEvent) {\r\n\t\t\t\t   \tconsole.log('Map Loaded',angularEvent,mapboxglEvent);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t   var map = new mapboxgl.Map({\r\n\t\t\t\t\t\tcontainer: 'map',\r\n\t\t\t\t\t\t//style: 'mapbox://styles/purplenimbus/cj59voeq26auw2snweqgxunkf',\r\n\t\t\t\t\t\tcenter: $scope.home,\r\n\t\t\t\t\t\tzoom: 10\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('mapSettings map',map);\r\n\t\t\t\t\tconsole.log('mapSettings scope',$scope);\r\n\t\t\t\t\r\n\t\t\t\t//console.log('mapSettings mapboxgl',mapboxgl.Map());\r\n\t\t\t\t\r\n\t\t\t\tvar glPopups = {\r\n\t\t\t\t\tcoordinates: $scope.home,\r\n\t\t\t\t\tmessage: 'HEEEEELLLOOO',\r\n\t\t\t\t\toptions: {}, // Optional --> https://www.mapbox.com/mapbox-gl-js/api/#Popup\r\n\t\t\t\t\tgetScope: Function, // Default $rootScope\r\n\t\t\t\t\tonClose: function (event, popupClosed) {\r\n\t\t\t\t\t  // ...\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t/*angular.forEach(JobsCtrl.jobs,function(value){\r\n\t\t\t\t\tif(value.location){\r\n\t\t\t\t\t\tfeatures.push({\r\n\t\t\t\t\t\t\t\"type\": \"Feature\",\r\n\t\t\t\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\t\t\t\"description\": value.description,\r\n\t\t\t\t\t\t\t\t\"icon\": \"theatre\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\"geometry\": {\r\n\t\t\t\t\t\t\t\t\"type\": \"Point\",\r\n\t\t\t\t\t\t\t\t\"coordinates\": [parseFloat(value.location.lng), parseFloat(value.location.lat)]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('Jobs features',features);\r\n\t\t\t\t\r\n\t\t\t\t$scope.glControls = {\r\n\t\t\t\t   navigation: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Navigation control options --> https://www.mapbox.com/mapbox-gl-js/api/#Navigation\r\n\t\t\t\t   },\r\n\t\t\t\t   scale: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Scale control options --> https://www.mapbox.com/mapbox-gl-js/api/#Scale\r\n\t\t\t\t   },\r\n\t\t\t\t   attribution: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Attribution control options --> https://www.mapbox.com/mapbox-gl-js/api/#Attribution\r\n\t\t\t\t   },\r\n\t\t\t\t   geolocate: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Geolocate control options --> https://www.mapbox.com/mapbox-gl-js/api/#Geolocate\r\n\t\t\t\t   },\r\n\t\t\t\t   geocoder: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Geocoder control options --> https://github.com/mapbox/mapbox-gl-geocoder/blob/master/API.md\r\n\t\t\t\t   },\r\n\t\t\t\t   directions: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Directions control options --> https://github.com/mapbox/mapbox-gl-directions/blob/master/API.md#mapboxgldirections\r\n\t\t\t\t   },\r\n\t\t\t\t   draw: {\r\n\t\t\t\t\t  enabled: true | false,\r\n\t\t\t\t\t  options: {} // Draw control options -> https://github.com/mapbox/mapbox-gl-draw/blob/master/API.md#options\r\n\t\t\t\t   }\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t$scope.$on('mapboxglMap:load', function (angularEvent, mapboxglEvent) {\r\n\t\t\t\t   console.log('Map Loaded',angularEvent,mapboxglEvent);\r\n\t\t\t\t});\r\n\t\t\t\t/*map.on('load', function () {\r\n\t\t\t\t\tmap.addLayer({\r\n\t\t\t\t\t\t\"id\": \"places\",\r\n\t\t\t\t\t\t\"type\": \"symbol\",\r\n\t\t\t\t\t\t\"source\": {\r\n\t\t\t\t\t\t\t\"type\": \"geojson\",\r\n\t\t\t\t\t\t\t\"data\": {\r\n\t\t\t\t\t\t\t\t\"type\": \"FeatureCollection\",\r\n\t\t\t\t\t\t\t\t\"features\": features\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"layout\": {\r\n\t\t\t\t\t\t\t\"icon-image\": \"{icon}-15\",\r\n\t\t\t\t\t\t\t\"icon-allow-overlap\": true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t // When a click event occurs on a feature in the places layer, open a popup at the\r\n\t\t\t\t\t// location of the feature, with description HTML from its properties.\r\n\t\t\t\t\tmap.on('click', 'places', function (e) {\r\n\t\t\t\t\t\tnew mapboxgl.Popup()\r\n\t\t\t\t\t\t\t.setLngLat(e.features[0].geometry.coordinates)\r\n\t\t\t\t\t\t\t.setHTML(e.features[0].properties.description)\r\n\t\t\t\t\t\t\t.addTo(map);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Change the cursor to a pointer when the mouse is over the places layer.\r\n\t\t\t\t\tmap.on('mouseenter', 'places', function () {\r\n\t\t\t\t\t\tmap.getCanvas().style.cursor = 'pointer';\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Change it back to a pointer when it leaves.\r\n\t\t\t\t\tmap.on('mouseleave', 'places', function () {\r\n\t\t\t\t\t\tmap.getCanvas().style.cursor = '';\r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\t});*/\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.controller:MainCtrl\r\n * @description\r\n * # MainCtrl\r\n * Controller of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.controller('MainCtrl', function ($scope,jobs,elements,$rootScope,init,location/*,$state,$auth*/) {\r\n\t\t\r\n\t\tconsole.log('init',init);\t\r\n\t\tconsole.log('init rootScope',$rootScope);\t\r\n\t\t\t\t\r\n\t\t$scope.search = {\r\n\t\t\ttitle : $rootScope.user.location.location ?  $rootScope.user.location.location : init[1].formatted_address\r\n\t\t};\r\n\t\t\r\n\t\t/*\r\n\t\t$scope.getLocaton = function(){\r\n\t\t\tvar self = this;\r\n\t\t\tconsole.log('Get Location');\r\n\t\t\tif($rootScope.user.location){\r\n\t\t\t\tconsole.log('Root Location Found',$rootScope.user.location);\r\n\t\t\t\t$scope.search = {\r\n\t\t\t\t\ttitle : $rootScope.user.location.location\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\tlocation.getLocation().then(function(result){\r\n\t\t\t\t\tconsole.log('Get Location Found',result);\r\n\t\t\t\t\t$scope.search = {\r\n\t\t\t\t\t\ttitle : result[1].formatted_address\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\t*/\r\n\t\t\r\n\t\t$scope.data = init;\r\n\t\t\r\n\t\tvar autocomplete;\r\n\t\t\r\n\t\tconsole.log('Search',$scope.search);\r\n\t\t\r\n\t\tvar home_loc;\r\n\t\t\r\n\t\t$scope.findjobs = function(search){\r\n\t\t\tconsole.log('Search',search);\r\n\t\t\t/*\r\n\t\t\tjobs.findJobs($scope.search.place_id,$scope.search.job_id).then(function(result){\r\n\t\t\t\tconsole.log('Result',result);\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log('rootScope',$rootScope);\r\n\t\t\r\n\t\t$scope.search = $rootScope.user.location;\r\n\t\t\r\n\t\t//google.maps.event.addDomListener(window, 'load',function(){\r\n\r\n\t\t\tangular.element('#job_title').typeahead(null, {\r\n\t\t\t\tname: 'job_title',\r\n\t\t\t\tdisplay: 'title',\r\n\t\t\t\tsource: elements.form.bloodhound('/api/job_titles'),\r\n\t\t\t\thint: true,\r\n\t\t\t\thighlight: true,\r\n\t\t\t\tminLength: 0,\r\n\t\t\t\tlimit: 10,\r\n\t\t\t\ttemplates: {\r\n\t\t\t\t\tempty: [\r\n\t\t\t\t\t\t'<div class=\"tt-suggestion tt-empty-message collection\">',\r\n\t\t\t\t\t\t'No results were found ...',\r\n\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t].join('\\n'),\r\n\t\t\t\t\t//header: '<div class=\"collection-header\"><h6>'+name+'</h6></div>'\r\n\t\t\t\t\t//suggestion: Handlebars.compile('<div class=\"collection-item\">{{value}}</div>')\r\n\t\t\t\t},\r\n\t\t\t\tclassNames: {\r\n\t\t\t\t\tselectable: 'collection-item',\r\n\t\t\t\t\tdataset : 'collection'\r\n\t\t\t\t},\r\n\t\t\t\t//identify: function(obj) { return obj.name; },\r\n\t\t\t}).bind('typeahead:select', function(ev, suggestion) {\r\n\t\t\t\tvar asset = angular.element(ev.currentTarget).get(0).dataset.asset;\r\n\t\t\t\tconsole.log('Selection(name): ' + suggestion.name);\r\n\t\t\t\tconsole.log('Selection(id): ' + suggestion.id);\r\n\t\t\t\t//console.log('event: ' + asset);\r\n\t\t\t\t$scope.search.title = suggestion;\r\n\t\t\t\t//$scope.currentAsset[asset].name = suggestion.name;\r\n\r\n\t\t\t\t//$scope.currentAsset\r\n\t\t\t});\r\n\t\t//});\r\n\t\t\r\n\t\tconsole.log('Bloodhound',elements.form.bloodhound('/api/job_titles'));\r\n\t\t\r\n\t\t// Create the autocomplete object, restricting the search to geographical\r\n\t\t// location types.\r\n\t\tautocomplete = new google.maps.places.Autocomplete(\r\n\t\t\t/** @type {!HTMLInputElement} */(angular.element('input#job_location').get(0)),\r\n\t\t\t{types: ['geocode']});\r\n\t\t\t\r\n\t\tautocomplete.addListener('place_changed', function(){\r\n\t\t\tvar place = this.getPlace();\r\n\t\t\t\r\n\t\t\tconsole.log('Place',place);\r\n\t\t\t\r\n\t\t\t$scope.search = {};\r\n\t\t\t\r\n\t\t\t$scope.search.location = place.formatted_address;\r\n\t\t\t\r\n\t\t\t$scope.search.place_id = place.place_id;\r\n\t\t\t\r\n\t\t\tconsole.log('Place Search',$scope.search);\r\n\t\t\t\r\n\t\t});\r\n\t});\r\n","'use strict';\n\n/**\n * @ngdoc function\n * @name jpApp.controller:UserCtrl\n * @description\n * # UserCtrl\n * Controller of the jpApp\n */\nangular.module('jpApp')\n\t.controller('UserCtrl', function ($scope,$rootScope,modal,elements,validation,auth,form) {\n\t\t\n    \t$scope.signIn\t=\tfunction(){\n\t\t\tvar modalType\t=\t'small',\n\t\t\t\tmodalTitle\t=\t'Login',\n\t\t\t\tmodalBody\t=\tform.login(),\n\t\t\t\tmodalFooter\t=\telements.button({\ttype\t:\t'submit',\tcls:\t'btn-primary btn-lg btn-block',\tngClick\t:\t'login($event)'\t},'Login');\n\t\t\t\t\n\t\t\tmodal.modal(modalType,modalTitle,modalBody,modalFooter,$scope).then(function(result){\n\t\t\t\tconsole.log(result);\n\t\t\t\t\n\t\t\t});\n\t\t};\n\t\t\n\t\t$scope.login\t=\tfunction($event){\n\t\t\t//add Spinner\n\t\t\t$event.preventDefault();\n\t\t\t\n\t\t\tconsole.log($rootScope);\n\t\t\t\n\t\t\tvar modalContent\t=\tangular.element($event.currentTarget).parents()[1],\n\t\t\t\tform\t\t\t=\tangular.element(modalContent).find('form').serializeArray(),\n\t\t\t\tformData\t\t=\t{\n\t\t\t\t\temail\t\t:\tform[0].value,\n\t\t\t\t\tpassword\t: \tform[1].value\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvalidation.validate(form).then(function(result){\n\t\t\t\t\t//remove spinner\n\t\t\t\t\tangular.element('.spinner').remove();\n\t\t\t\t\t\n\t\t\t\t\tif(result.valid){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//console.log('Root',$root);\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tauth.authenticate(formData).then(function(result){\n\t\t\t\t\t\t\tconsole.log('Authentication Result',result);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t}\t\n\t\t\t\t\t\n\t\t\t\t});\n\t\t};\n\t\t\n\t\t$scope.closeModal\t=\tfunction(){\n\t\t\tangular.element('#modal').modal('hide');\n\t\t};\n\t});\n","'use strict';\r\n\r\n/**\r\n * @ngdoc function\r\n * @name jpApp.service:accountData\r\n * @description\r\n * # JobsCtrl\r\n * Service of the jpApp\r\n */\r\nangular.module('jpApp')\r\n\t.service('accountData', function ($q,$http,jobs,$rootScope,location)\r\n\t{\r\n\t\treturn {\r\n\t\t\tuser\t\t: null,\r\n\t\t\tgetUserData : function(id){\r\n\t\t\t\treturn $http.get('/api/profile/'+id);\r\n\t\t\t},\r\n\t\t\tsaveData \t:\tfunction(id,data){\r\n\t\t\t\treturn $http.post('/api/profile/'+id,data);\r\n\t\t\t},\r\n\t\t\tgetJobs\t\t:\tfunction(id){\r\n\t\t\t\treturn $http.get('/api/profile/{'+id+'}/jobs');\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Sets the Users Location in the $rootScope\r\n\t\t\t */\r\n\t\t\tsetUserLocation : function(){\r\n\t\t\t\t\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\tif(!$rootScope.user){\r\n\t\t\t\t\t$rootScope.user = {};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//Get Home location of the current user\r\n\t\t\t\tif(navigator.geolocation && !$rootScope.user.location) {\r\n\t\t\t\t\t//console.log('Location Needed');\r\n\t\t\t\t\t\r\n\t\t\t\t\t$rootScope.user.location =\t{};\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn location.getLocation().then(function(result){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log('Location Result',result);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.user.location.location = result[1].formatted_address;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.user.location.place_id = result[1].place_id;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.user.location.lat \t=\tresult[1].geometry.location.lat();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$rootScope.user.location.lng\t=\tresult[1].geometry.location.lng();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tdeferred.resolve(result);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn deferred.promise;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name jpApp.auth\r\n * @description\r\n * # auth\r\n * Service in the jpApp.\r\n */\r\nangular.module('jpApp')\r\n\t.service('auth', function ($q,$http) {\r\n    // AngularJS will instantiate a singleton by calling \"new\" on this function\r\n\t\treturn\t{\r\n\t\t\tauthenticate\t:\tfunction(object){\r\n\t\t\t\tvar deferred\t=\t$q.defer();\r\n\t\t\t\t\t\r\n\t\t\t\tconsole.log('Form Object',object);\r\n\t\t\t\t\r\n\t\t\t\t//console.log($http.post('/api/authenticate'));\r\n\t\t\t\t\r\n\t\t\t\t$http.post('/api/authenticate',object).then(\tfunction(result){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.info('Auth Result',result);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.resolve(result);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfunction(error){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.error('Auth Error',error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.resolve(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t},\r\n\t\t\tsetCookie : function(cname, cvalue, exdays) {\r\n\t\t\t\tvar d = new Date();\r\n\t\t\t\td.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n\t\t\t\tvar expires = \"expires=\"+ d.toUTCString();\r\n\t\t\t\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n\t\t\t},\r\n\t\t\tgetCookie : function(cname) {\r\n\t\t\t\tvar name = cname + \"=\";\r\n\t\t\t\tvar ca = document.cookie.split(';');\r\n\t\t\t\tfor(var i = 0; i <ca.length; i++) {\r\n\t\t\t\t\tvar c = ca[i];\r\n\t\t\t\t\twhile (c.charAt(0) == ' ') {\r\n\t\t\t\t\t\tc = c.substring(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c.indexOf(name) == 0) {\r\n\t\t\t\t\t\treturn c.substring(name.length, c.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name jpApp.jobs\r\n * @description\r\n * # jobs\r\n * Service in the jpApp.\r\n */\r\nangular.module('jpApp')\r\n\t.service('companies', function ($http,elements) {\r\n\t\t// AngularJS will instantiate a singleton by calling \"new\" on this function\r\n\t\treturn{\r\n\t\t\t/**\r\n\t\t\t * Returns a $http.get promise\r\n\t\t\t * @param {object} $data - The data for the GET request\r\n\t\t\t * @param {integer} $id - The id for the GET request\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tgetData\t:\tfunction($data,$id){\r\n\t\t\t\tconsole.log($data+' id',$id);\r\n\t\t\t\tif($id){\r\n\t\t\t\t\treturn $http.get('api/'+$data+'/'+$id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\t$http.get('api/'+$data);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a $http.post/put promise\r\n\t\t\t * @param {object} $data - The data for the GET request\r\n\t\t\t * @param {integer} $id - The id for the GET request\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tsendData\t:\tfunction($name,$id,$data){\r\n\t\t\t\tconsole.log($name+' id',$id);\r\n\t\t\t\tif($id){\r\n\t\t\t\t\treturn $http.put('api/'+$name+'/'+$id,$data);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\t$http.post('api/'+$name,$data);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t};\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc factory\r\n * @name jpApp.elements\r\n * @description\r\n * # elements\r\n * The Elements Factory in the jpApp.\r\n * This factory is used to generate all basic HTML elements for the UI.\r\n */\r\nangular.module('jpApp')\r\n  .factory('elements', function () {\r\n\tvar mockup = [\r\n\t\t{\r\n\t\t\ticon : 'insert_chart',\r\n\t\t\tcolor : 'red'\r\n\t\t},{\r\n\t\t\ticon : 'formal_quote',\r\n\t\t\tcolor : 'yellow darken-1'\r\n\t\t},{\r\n\t\t\ticon : 'publish',\r\n\t\t\tcolor : 'green'\r\n\t\t},{\r\n\t\t\ticon : 'attach_file',\r\n\t\t\tcolor : 'blue'\r\n\t\t}\r\n\t], elementsFactory = this;\r\n    return {\r\n\t\t/**\r\n\t\t * Returns a row HTML element\r\n\t\t * @param {String} body - The body of the row element\r\n\t\t * @param {String} cls - additional classes for the row element\r\n\t\t * @returns {String}\r\n\t\t */\r\n\t\trow\t\t:\tfunction(body,cls){\r\n\t\t\tvar str = '';\r\n\t\t\t\t\t\t\r\n\t\t\tstr += '<div class=\"uk-grid';\r\n\t\t\tstr += cls ? cls : '';\r\n\t\t\tstr += '\">';\r\n\t\t\tstr += \t\tbody;\r\n\t\t\tstr += '</div>';\r\n\t\t\t\r\n\t\t\tconsole.log('Elements str',str);\r\n\t\t\t\r\n\t\t\treturn str;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Returns a column HTML element\r\n\t\t * @param {string} num - num of columns 1-12 as per UIKits Grid System\r\n\t\t * @param {String} body - The body of the column element\r\n\t\t * @returns {String}\r\n\t\t */\r\n\t\tcolumn\t:\tfunction(num,body,cls){\r\n\t\t\tvar str=\t'',\r\n\t\t\twidth = '';\r\n\t\t\t\r\n\t\t\tconsole.log('num',Array.isArray(num),num);\r\n\t\t\t\r\n\t\t\tif(Array.isArray(num) && num.length){\r\n\t\t\t\twidth = num[0]+'-'+num[1];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log('column',width);\r\n\t\t\t\r\n\t\t\tstr\t+=\t'<div class=\"uk-width-'+width+' ';\r\n\t\t\tstr +=  cls ? cls : '';\r\n\t\t\tstr +=  '\">';\r\n\t\t\tstr\t+=\t\tbody;\r\n\t\t\tstr\t+=\t'</div>';\r\n\r\n\t\t\treturn str;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Returns a button HTML element\r\n\t\t * @param {Object} object - The object holding the button element properties\r\n\t\t * @param {String} object.cls - The button class\r\n\t\t * @param {String} object.type - The button type\r\n\t\t * @param {String} object.ngClick - ngClick event for the button\r\n\t\t * @param {String} object.label - The button label\r\n\t\t * @returns {String}\r\n\t\t */\r\n\t\tbutton\t:\tfunction(object,body){\r\n\t\t\tvar str\t=\t'';\r\n\t\t\t\r\n\t\t\tstr\t+=\t'<button class=\"uk-button ';\r\n\t\t\tstr +=\t\tobject.cls ? object.cls+'\"' : '\"';\r\n\t\t\tstr\t+=\t\tobject.type\t\t?\t'type=\"'+object.type+'\"'\t:\t'';\r\n\t\t\tstr\t+=\t\tobject.ngClick\t?\t'ng-click=\"'+object.ngClick+'\">'\t:\t'>';\r\n\t\t\tstr\t+=\t\tobject.label ? object.label : 'Button Label';\r\n\t\t\tstr\t+=\t'</button>';\r\n\t\t\t\r\n\t\t\treturn str;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the form object for generic form elements\r\n\t\t * @returns {object}\r\n\t\t */\r\n\t\tform\t:\t{\r\n\t\t\t/**\r\n\t\t\t * Returns uikit icons for form elements\r\n\t\t\t * @param {String} type - The type of icon based on https://material.io/icons/\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tglyph\t:\tfunction(type){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\t//str\t+=\t'<span class=\"glyphicon glyphicon-'+type+'\" aria-hidden=\"true\"></span>';\r\n\t\t\t\tstr\t+=\t'<i class=\" uk-icon-';\r\n\t\t\t\tstr\t+=\ttype ? type+'\">' : '\">';\r\n\t\t\t\tstr\t+=\t'</i>';\r\n\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns an input element\r\n\t\t\t * @param {object} object - The object holding the input element attributes\r\n\t\t\t * @param {Integer} object.colSize - The column size of the input element ( Defaults to 12 )\r\n\t\t\t * @param {string} object.cls - addtional classes for the input element\r\n\t\t\t * @param {string} object.label - The label for the input field\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the input element\r\n\t\t\t * @param {String} object.value - The value attribute for the input element\r\n\t\t\t * @param {boolean} object.required - The required attribute for the input element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tinput\t:\tfunction(object){\r\n\t\t\t\tvar\tstr\t=\t'',self = this;\r\n\t\t\t\t\r\n\t\t\t\tstr +=\t'<div class=\"input-field ';\r\n\t\t\t\tstr +=  object.icon ? 'uk-form-icon ' : '';\r\n\t\t\t\tstr +=  object.colSize ? 'col m'+object.colSize.toString()+' uk-width-1-1\">' : 'uk-width-1-1\">';\r\n\t\t\t\tstr +=  object.icon ?  self.glyph(object.icon) : '';\r\n\t\t\t\tstr\t+=\t'<input ';\r\n\t\t\t\tstr\t+=\tobject.type\t?\t'type=\"'+object.type+'\"' : '';\r\n\t\t\t\tstr\t+=\tobject.cls  ? \t'class=\"'+object.cls+'\"' : '';\r\n\t\t\t\tstr\t+=\tobject.label ? ' placeholder=\"'+object.label+'\"' : '';\r\n\t\t\t\tstr\t+=\tobject.model\t?\t' ng-model=\"'+object.model+'\" '\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.value\t?\t' ng-value=\"'+object.model+'\" '\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required\t?\t' data-required=\"true\" required=\"true\"'\t:\t'';\r\n\t\t\t\t//str +=  object.typeahead ? 'sf-typeahead options=\"typeahead\" datasets=\"'+object.typeahead.datasets+'\"' : '';\r\n\t\t\t\tif(object.typeahead){\r\n\t\t\t\t\tstr +=  object.asset ? 'data-asset=\"'+object.asset+'\"' : '';\r\n\t\t\t\t}\r\n\t\t\t\tstr\t+=\t'>';\r\n\t\t\t\tstr\t+=\t'<label ';\r\n\t\t\t\tstr\t+=\tobject.model\t?\t' class=\"active\" '\t:\t'';\r\n\t\t\t\tstr\t+=  'for=\"'+object.name+'\">';\r\n\t\t\t\tstr\t+=\tobject.label ?  object.label+(object.required ? ' *' : '') : '';\r\n\t\t\t\tstr +=  '</label>';\r\n\t\t\t\tstr +=  '</div>';\r\n\t\t\t\t/*\r\n\t\t\t\tif(object.typeahead){\r\n\t\t\t\t\tvar bloodhound = self.bloodhound('/'+object.asset);\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('Bloodhound',bloodhound);\r\n\t\t\t\t\tconsole.log('Name','#'+object.name);\r\n\t\t\t\t\tconsole.log('Element',angular.element('#'+object.name));\r\n\t\t\t\t\t\r\n\t\t\t\t\tangular.element('#'+object.name).typeahead(null, {\r\n\t\t\t\t\t\tname: object.name,\r\n\t\t\t\t\t\tdisplay: 'name',\r\n\t\t\t\t\t\tsource: bloodhound.ttAdapter(),\r\n\t\t\t\t\t\thint: true,\r\n\t\t\t\t\t\thighlight: true,\r\n\t\t\t\t\t\tminLength: 0,\r\n\t\t\t\t\t\ttemplates: {\r\n\t\t\t\t\t\t\tempty: [\r\n\t\t\t\t\t\t\t\t'<div class=\"tt-suggestion tt-empty-message collection\">',\r\n\t\t\t\t\t\t\t\t'No results were found ...',\r\n\t\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t].join('\\n'),\r\n\t\t\t\t\t\t\t//suggestion:'<div class=\"collection-item\">{{value}}</div>'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclassNames: {\r\n\t\t\t\t\t\t\tselectable: 'collection-item',\r\n\t\t\t\t\t\t\tdataset : 'collection'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns an input group element\r\n\t\t\t * @param {icon} object - The icon for the element attributes \r\n\t\t\t * @param {object} object - The object holding the element attributes\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tinputGroup\t:\tfunction(icon,object){\r\n\t\t\t\tvar str\t\t=\t'',\r\n\t\t\t\t\tself\t=\tthis;\r\n\t\t\r\n\t\t\t\tstr\t+=\t'<div class=\"input-field\">';\r\n\t\t\t\tstr\t+=\t\t'<i class=\"material-icons prefix\">'+icon+'</i>';\r\n\t\t\t\tstr\t+=\t\tself.input(object);\r\n\t\t\t\tstr\t+=\t'</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a select element\r\n\t\t\t * @param {Integer} object.colSize - The column size of the input element ( Defaults to 12 )\r\n\t\t\t * @param {string} object.cls - addtional classes for the input element\r\n\t\t\t * @param {string} object.label - The label for the input field\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the input element\r\n\t\t\t * @param {boolean} object.required - The required attribute for the input element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tselect\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr +=\t'<div class=\"input-field col m'+object.colSize.toString()+' s12\">';\r\n\t\t\t\tstr +=\t'<select ';\r\n\t\t\t\tstr +=\tobject.cls ? 'class=\"'+object.cls+'\"' : '';\r\n\t\t\t\tstr +=\tobject.model ? 'ng-model=\"'+object.model+'\"' : '';\r\n\t\t\t\tstr\t+=\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required\t?\t' data-required=\"true\" required=\"true\"'\t:\t'';\r\n\t\t\t\tstr +=\t'ng-options=\"g as g.name for g in $root[\\''+object.asset+'\\'].options.'+object.name+'s track by g.id\">';\r\n\t\t\t\t//str +=\t'<option value=\"\" disabled selected>Choose your option</option>';\r\n\t\t\t\tstr +=\t'</select>';\r\n\t\t\t\tstr +=\tobject.label ? '<label>'+object.label+(object.required ? ' *' : '')+'</label>' : '';\r\n\t\t\t\tstr +=\t'</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a textarea element\r\n\t\t\t * @param {Integer} object.colSize - The column size of the element ( Defaults to 12 )\r\n\t\t\t * @param {string} object.cls - addtional classes for the element\r\n\t\t\t * @param {string} object.label - The label for the element\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the element\r\n\t\t\t * @param {boolean} object.required - The required attribute for the element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\ttextarea\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr +=\t'<div class=\"input-field col m'+object.colSize.toString()+' s12\">';\r\n\t\t\t\tstr +=\t'<textarea class=\"materialize-textarea';\r\n\t\t\t\tstr +=\tobject.cls ? object.cls+'\"' : '\"';\r\n\t\t\t\tstr\t+=\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required\t?\t' data-required=\"true\" required=\"true\"'\t:\t'';\r\n\t\t\t\tstr +=\tobject.model ? 'ng-model=\"'+object.model+'\">' : '>';\r\n\t\t\t\tstr +=\t'</textarea>';\r\n\t\t\t\t//str +=\tobject.label ? '<label>'+object.label+'</label>' : '';\r\n\t\t\t\tstr +=\t'</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the materialize chips component\r\n\t\t\t * @param {object} object - The object holding the chip element properties\r\n\t\t\t * @param {string} object.chipType - The chip type based on the materialize\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tchips\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr\t+=\t' <div class=\"chips '+object.chipType+'\"></div>';\r\n\t\t\t\treturn \tstr;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the ui tag it component\r\n\t\t\t * @param {object} object - The object holding the chip element properties\r\n\t\t\t * @param {string} object.chipType - The chip type based on the materialize\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\ttagit\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr\t+=\t' <ul id=\"'+object.name ? object.name : '' +'\" class=\"chips '+object.chipType+'\"></ul>';\r\n\t\t\t\t\r\n\t\t\t\treturn \tstr;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the materialize range component\r\n\t\t\t * @param {object} object - The object holding the range element properties\r\n\t\t\t * @param {string} object.cls - addtional classes for the element\r\n\t\t\t * @param {string} object.label - The label for the element\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the element\r\n\t\t\t * @param {String} object.min - The maximum range\r\n\t\t\t * @param {String} object.max - The minimum range\r\n\t\t\t * @param {boolean} object.required - The required attribute for the element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\trange\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr\t+=\t'<p class=\"range-field col m'+object.colSize.toString()+' s12\">';\r\n\t\t\t\tstr\t+=\t\t'<label>'+object.label+(object.required ? '*' : '')+' '+( object.model ? ' ( {{ '+object.model+' }} years )' : '' )+'</label>';\r\n\t\t\t\tstr\t+=\t\t'<input type=\"range\"';\r\n\t\t\t\tstr\t+=\t\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\t\tobject.model\t?\t' ng-model=\"'+object.model+'\" '\t:\t'';\r\n\t\t\t\tstr\t+=\t\tobject.min ? 'min=\"'+object.min+'\"' : '';\r\n\t\t\t\tstr\t+=\t\tobject.max ? 'max=\"'+object.max+'\"' : '';\r\n\t\t\t\t//str\t+=\t\tobject.step ? 'step=\"'+object.step+'\"' : '';\r\n\t\t\t\tstr\t+=\t\tobject.required ? 'required />' : ' />';\r\n\t\t\t\tstr\t+=\t'</p>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a switch element\r\n\t\t\t * @param {Integer} object.colSize - The column size of the element ( Defaults to 12 )\r\n\t\t\t * @param {string} object.cls - addtional classes for the element\r\n\t\t\t * @param {string} object.label1 - The label1 for the element\r\n\t\t\t * @param {string} object.label2 - The label2 for the element\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the element\r\n\t\t\t * @param {boolean} object.required - The required attribute for the element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tcheck\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr\t+=\t'<div class=\"switch col m'+object.colSize.toString()+' s12\">';\r\n\t\t\t\tstr\t+=\t'\t<label>';\r\n\t\t\t\tstr\t+=\tobject.label1;\r\n\t\t\t\tstr\t+=\t'\t  <input type=\"checkbox\"';\r\n\t\t\t\tstr\t+=\tobject.model\t?\t' ng-model=\"'+object.model+'\" '\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required\t?\t' data-required=\"true\" required=\"true\"'\t:\t'';\r\n\t\t\t\tstr\t+=\t'\t  >';\r\n\t\t\t\tstr\t+=\t'\t  <span class=\"lever\"></span>';\r\n\t\t\t\tstr\t+=\tobject.label2;\r\n\t\t\t\tstr\t+=\t'\t</label>';\r\n\t\t\t\tstr\t+=\t'</div>';\r\n  \r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a date element\r\n\t\t\t * @param {Integer} object.colSize - The column size of the date element ( Defaults to 12 )\r\n\t\t\t * @param {string} object.cls - addtional classes for the date element\r\n\t\t\t * @param {string} object.label - The label for the date field\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the date element\r\n\t\t\t * @param {boolean} object.required - The required attribute for the date element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tdate\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr +=\t'<div class=\"col s12 m'+object.colSize.toString()+'\">';\r\n\t\t\t\tstr +=\tobject.label ? '<label>'+object.label+(object.required ? ' *' : '')+'</label>' : '';\r\n\t\t\t\tstr\t+= ' <input type=\"date\" ';\r\n\t\t\t\tstr\t+= 'class=\"datepicker';\r\n\t\t\t\tstr +=\tobject.cls ? object.cls+'\"' : '\"';\r\n\t\t\t\tstr\t+=\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.model\t?\t' ng-model=\"'+object.model+'\" '\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required\t?\t' data-required=\"true\" required=\"true\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required ? 'required />' : ' />';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a radio element\r\n\t\t\t * @param {Integer} object.colSize - The column size of the date element ( Defaults to 12 )\r\n\t\t\t * @param {string} object.cls - addtional classes for the date element\r\n\t\t\t * @param {string} object.label - The label for the date field\r\n\t\t\t * @param {String} object.model - The 2 way data binding for to the $scope (Angular Js)\r\n\t\t\t * @param {String} object.name - The name attribute for the date element\r\n\t\t\t * @param {boolean} object.required - The required attribute for the date element. Used for validation\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tradio\t:\tfunction(object){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr +=\t'<div class=\"col s12 m'+object.colSize.toString()+'\">';\r\n\t\t\t\tstr\t+= ' <input type=\"radio\" ';\r\n\t\t\t\tstr\t+= 'class=\"datepicker';\r\n\t\t\t\tstr +=\tobject.cls ? object.cls+'\"' : '\"';\r\n\t\t\t\tstr\t+=\tobject.name\t?\t' name=\"'+object.name+'\" id=\"'+object.name+'\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.model\t?\t' ng-model=\"'+object.model+'\" '\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required\t?\t' data-required=\"true\" required=\"true\"'\t:\t'';\r\n\t\t\t\tstr\t+=\tobject.required ? 'required />' : ' />';\r\n\t\t\t\tstr +=\tobject.label ? '<label>'+object.label+(object.required ? ' *' : '')+'</label>' : '';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the bloodhound twitter typeahead element\r\n\t\t\t * @param {string} source - bloodhound prefetch url\r\n\t\t\t * @returns {object}\r\n\t\t\t */\r\n\t\t\tbloodhound : function(source){\r\n\t\t\t\tvar bloodhound = new Bloodhound({\r\n\t\t\t\t\tdatumTokenizer: function(d) { return Bloodhound.tokenizers.whitespace(d.name); },\r\n\t\t\t\t\tqueryTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t\t\t\t\tprefetch: source,\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn bloodhound;\r\n\t\t\t},\r\n\t\t\texperience : function(){\r\n\t\t\t\tvar str\t=\t'',self = this;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tstr += \t'<div class=\"uk-grid\">';\r\n\t\t\t\t//str += \t\t'<div class=\"col s12 m4\">';\r\n\t\t\t\tstr += \t\t\tself.input({ type: 'text' , colSize: 12 , label:'Job Title' , name:'job_title' , cls:'typeahead', model : 'exp.job_title' });\r\n\t\t\t\t//str += \t\t'</div>';\r\n\t\t\t\t//str += \t\t'<div class=\"col s12 m4\">';\r\n\t\t\t\tstr += \t\t\tself.input({ type: 'text' , colSize: 12 , label:'Company' , name:'company' , cls:'typeahead', model : 'exp.company' });\r\n\t\t\t\t//str += \t\t'</div>';\r\n\t\t\t\t//str += \t\t'<div class=\"col s12 m4\">';\r\n\t\t\t\tstr += \t\t\tself.input({ type:'text' ,colSize: 12, cls:'autocomplete', label : 'Location' , name : 'job_location', model : 'exp.location' });\r\n\t\t\t\t//str += \t\t'</div>';\r\n\t\t\t\tstr += \t'</div>';\r\n\t\t\t\tstr += \t'<div class=\"row\">';\r\n\t\t\t\tstr += \t\tself.textarea({ type:'text' ,colSize: 12, cls:'', label : 'Description' , name : 'description', model : 'exp.description' });\r\n\t\t\t\tstr += \t'</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\teducation : function(){\r\n\t\t\t\tvar str\t=\t'',self = this;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tstr += '<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t'<div class=\"col s12 m6\">';\r\n\t\t\t\tstr += \t\t\tself.input({ type: 'text' , colSize: 12 , label:'School' , name:'school' , cls:'typeahead', model : 'exp.school' });\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += \t\t'<div class=\"col s12 m6\">';\r\n\t\t\t\tstr += \t\t\tself.input({ type: 'text' , colSize: 12 , label:'Degree' , name:'degree' , cls:'typeahead', model : 'exp.degree' });\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t'<div class=\"col s12 m6\">';\r\n\t\t\t\tstr += \t\tself.input({ type: 'text' , colSize: 12 , label:'Field' , name:'field' , cls:'typeahead', model : 'exp.field' });\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += \t\t'<div class=\"col s12 m6\">';\r\n\t\t\t\tstr += \t\t\tself.input({ type: 'text' , colSize: 12 , label:'Location' , name:'location' , cls:'typeahead', model : 'exp.location' });\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t'<div class=\"col m6 s12\">';\r\n\t\t\t\tstr += \t\t\tself.date({\tcolSize: 12 , label:'Start Date' , name:'start' , cls:'', model : 'exp.dates.start' });\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += \t\t'<div class=\"col m6 s12\">';\r\n\t\t\t\tstr += \t\t\tself.date({ colSize: 12 , label:'End Date' , name:'end' , cls:'', model : 'exp.dates.end' });\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Returns uikit icons\r\n\t\t * @param {String} type - The type of icon based on https://material.io/icons/\r\n\t\t * @returns {String}\r\n\t\t */\r\n\t\tglyph\t:\tfunction(type){\r\n\t\t\tvar str\t=\t'';\r\n\t\t\t\r\n\t\t\t//str\t+=\t'<span class=\"glyphicon glyphicon-'+type+'\" aria-hidden=\"true\"></span>';\r\n\t\t\tstr\t+=\t'<i class=\" uk-icon-';\r\n\t\t\tstr\t+=\ttype ? type+'\">' : '\">';\r\n\t\t\tstr\t+=\t'</i>';\r\n\r\n\t\t\treturn str;\r\n\t\t},\r\n\t\t\r\n    };\r\n  });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name jpApp.form\r\n * @description\r\n * # form\r\n * Service in the jpApp.\r\n */\r\nangular.module('jpApp')\r\n\t.service('form', function (elements) {\r\n\t\t// AngularJS will instantiate a singleton by calling \"new\" on this function\r\n\t\treturn\t{\r\n\t\t\t/**\r\n\t\t\t * Returns the login form\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tlogin\t:\tfunction(){\r\n\t\t\t\tvar\tstr\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr\t\t+=\t'<div class=\"uk-text-center\">'\r\n\r\n\t\t\t\tstr\t+=\t'\t<img class=\"uk-margin-bottom\" width=\"140\" height=\"120\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwcHgiIGhlaWdodD0iMTIwcHgiIHZpZXdCb3g9Ii0yOS41IDI3NS41IDE0MCAxMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTI5LjUgMjc1LjUgMTQwIDEyMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8ZyBvcGFjaXR5PSIwLjciPg0KCTxwYXRoIGZpbGw9IiNEOEQ4RDgiIGQ9Ik0tNi4zMzMsMjk4LjY1NHY3My42OTFoOTMuNjY3di03My42OTFILTYuMzMzeiBNNzkuNzg4LDM2NC4zNTVIMS42NTZ2LTU3LjcwOWg3OC4xMzJWMzY0LjM1NXoiLz4NCgk8cG9seWdvbiBmaWxsPSIjRDhEOEQ4IiBwb2ludHM9IjUuODYsMzU4LjE0MSAyMS45NjIsMzQxLjIxNiAyNy45OTUsMzQzLjgyNyA0Ny4wMzIsMzIzLjU2MSA1NC41MjQsMzMyLjUyMyA1Ny45MDUsMzMwLjQ4IA0KCQk3Ni4yMDMsMzU4LjE0MSAJIi8+DQoJPGNpcmNsZSBmaWxsPSIjRDhEOEQ4IiBjeD0iMjQuNDYyIiBjeT0iMzIxLjMyMSIgcj0iNy4wMzQiLz4NCjwvZz4NCjwvc3ZnPg0K\" alt=\"\">';\r\n\r\n\t\t\t\tstr\t+=\t'\t<form class=\"uk-panel uk-panel-box uk-form\">';\r\n\t\t\t\tstr\t+=\t'\t\t<div class=\"uk-form-row\">';\r\n\t\t\t\tstr\t+=\t\t\t\telements.form.input({ \t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype\t\t:\t'email',\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls\t\t\t:\t'uk-form-large uk-width-1-1 validate'\t,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder\t:\t'Email'\t,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodel\t\t:\t'email',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\t\t:\t'email',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\t:\ttrue ,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon \t\t:\t'user'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\tstr\t+=\t'\t\t</div>';\r\n\t\t\t\tstr\t+=\t'\t\t<div class=\"uk-form-row\">';\r\n\t\t\t\tstr\t+=\t\t\t\telements.form.input({ \t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype\t\t:\t'password',\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls\t\t\t:\t'uk-form-large uk-width-1-1 validate'\t,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder\t:\t'Email'\t,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodel\t\t:\t'password',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\t\t:\t'password',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\t:\ttrue ,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon \t\t:\t'lock'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\tstr\t+=\t'\t\t</div>';\r\n\t\t\t\tstr\t+=\t'\t\t<div class=\"uk-form-row\">';\r\n\t\t\t\tstr\t+=\t'\t\t\t<a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" ng-click=\"login($event)\">Login</a>';\r\n\t\t\t\tstr\t+=\t'\t\t</div>';\r\n\t\t\t\tstr\t+=\t'\t\t<div class=\"uk-form-row uk-text-small\">';\r\n\t\t\t\tstr\t+=\t'\t\t\t<label class=\"uk-float-left\"><input type=\"checkbox\"> Remember Me</label>';\r\n\t\t\t\tstr\t+=\t'\t\t\t<a class=\"uk-float-right uk-link uk-link-muted\" href=\"#\">Forgot Password?</a>';\r\n\t\t\t\tstr\t+=\t'\t\t</div>';\r\n\t\t\t\tstr\t+=\t'\t</form>';\r\n\r\n\t\t\t\tstr\t+=\t'</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the Registration form\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\tregister\t:\tfunction(){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the form to edit a job\r\n\t\t\t * @returns {String}\r\n\t\t\t */\r\n\t\t\teditJob\t\t:\tfunction(id){\r\n\t\t\t\t\r\n\t\t\t\t//console.log('Job id',id);\r\n\t\t\t\t\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t'<form>';\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row(\r\n\t\t\t\t\t\t\t\t\telements.form.input({ type:'text' ,colSize: 6, cls:'autocomplete', model:'currentAsset.title' , label : 'Job Title' , name : 'job_title' , required:true })+\r\n\t\t\t\t\t\t\t\t\telements.form.input({ type:'text', colSize: 2, cls:'typeahead' , label : 'Job Type e.g Full time , Part time..', name : 'job_types' , model:'currentAsset.job_type.name' , required:true , asset :'job_type',typeahead : { datasets:'jobTypes'}})+\r\n\t\t\t\t\t\t\t\t\telements.form.input({ type:'text', colSize: 2, cls:'typeahead' , label : 'Job Level e.g Entry , Junior, Intermediate..' , name : 'job_levels' , model:'currentAsset.job_level.name' , required:true , asset :'job_level',typeahead : { datasets:'jobLevels'}})+\r\n\t\t\t\t\t\t\t\t\telements.form.input({ type:'text', colSize: 2, cls:'typeahead' , label : 'Job Category' , name : 'job_categories' , model:'currentAsset.job_category.name' , required:true , asset :'job_category',typeahead : { datasets:'jobCategories'}})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row(elements.form.input({ type:'text' ,colSize: 6, cls:'autocomplete', model:'currentAsset.location.name' , label : 'Job Location' , name : 'job_location' , required:true })+\r\n\t\t\t\t\t\t\t\t\t\t\telements.form.input({ type:'text', colSize: 6, cls:'typeahead' , label : 'Minimum Qualification' , name : 'min_qualifications' , model:'currentAsset.min_qualification' , required:true , asset :'min_qualification',typeahead : { datasets:'minQualification'}})\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row(elements.form.range({ colSize: 12, cls:'', model:'currentAsset.min_experience' , label : 'Minimum Experience' , name : 'job_min_experience' , min:0,max:15 }));\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row('<div class=\"range-field col m12 s12\">'+\r\n\t\t\t\t\t\t\t\t\t\t\t\t'<label>Salary <span class=\"min\"></span> - <span class=\"max\"></span> {{ currentAsset.salary_type.name }}</label>'+\r\n\t\t\t\t\t\t\t\t\t\t\t\t'<div id=\"pay\"></div>'+\r\n\t\t\t\t\t\t\t\t\t\t\t'</div>');\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row(elements.form.input({ type:'text', colSize: 12, cls:'typeahead' , label : 'Salary Type' , name : 'salary_types' , model:'currentAsset.salary_type.name' , required:true , asset :'salary_type',typeahead : { datasets:'salaryTypes'}}));\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row(elements.form.textarea({ colSize: 12, cls:'' , label : 'Job Description' , name : 'job_description' , model:'currentAsset.description' , required:true}));\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\telements.row('<div class=\"range-field col m12 s12\">'+\r\n\t\t\t\t\t\t\t\t\t\t\t\t'<label>Required Skills</label>'+\r\n\t\t\t\t\t//str\t+=\t\t\t\telements.form.chips({ colSize: 12, cls:'hidden' , label : 'Required Skills' , name : 'required_skills' , model:'currentAsset.required_skills',chipType : 'chips-autocomplete'})+\r\n\t\t\t\t\t\t\t\t\t\t\t\telements.form.tagit({ colSize: 12, cls:'' , label : 'Required Skills' , name : 'required_skills' , model:'currentAsset.required_skills'})+\r\n\t\t\t\t\t\t\t\t\t\t\t'</div>');\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t\t\telements.row(elements.form.date({ colSize: 12, cls:'' , label : 'Application Deadline' , name : 'application_deadline' , model:'currentAsset.application_deadline', required:true }));\r\n\t\t\t\t\tstr\t+=\t'</form>';\r\n\t\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the edit company form\r\n\t\t\t * @returns {string}\r\n\t\t\t */\r\n\t\t\teditCompany\t\t:\tfunction(){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\t\tstr\t+=\t'<form>';\r\n\t\t\t\t\t//str +=\t\telements.uk-grid(elements.toolbar('ng-click=\"action()\"'));\r\n\t\t\t\t\tstr\t+=\t\t'<div class=\"uk-grid\">';\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'text' ,colSize: 4, cls:'autocomplete', model:'currentAsset.name' , label : 'Company Name' , name : 'company_name' , required:true });\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'text', colSize: 4, cls:'typeahead' , label : 'Company Type e.g Software , Construction ', name : 'company_cat' , model:'currentAsset.company_category[0].name' , required:true , asset :'company_category',typeahead : { datasets:'companyCats'}});\r\n\t\t\t\t\t//str\t+=\t\t\telements.form.select({ colSize: 4, cls:'' , label : 'Company Category' , name : 'company_cat' , model:'currentAsset.company_category' , required:true ,asset:'company'});\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'text' ,colSize: 4, cls:'autocomplete', model:'currentAsset.location.name' , label : 'Company Location' , name : 'company_location' , required:true });\r\n\t\t\t\t\tstr\t+=\t\t'</div>';\r\n\t\t\t\t\tstr\t+=\t\t'<div class=\"uk-grid\">';\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'text' ,colSize: 8, cls:'', model:'currentAsset.address' , label : 'Company Address' , name : 'company_address' , required:false });\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'text' ,colSize: 4, cls:'', model:'currentAsset.zipcode' , label : 'Zipcode' , name : 'zipcode' , required:false });\r\n\t\t\t\t\tstr +=\t\t'</div>';\r\n\t\t\t\t\tstr\t+=\t\t'<div class=\"uk-grid\">';\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.textarea({ colSize: 12, cls:'' , label : 'Company Description' , name : 'company_description' , model:'currentAsset.description' , required:true});\r\n\t\t\t\t\tstr\t+=\t\t'</div>';\r\n\t\t\t\t\tstr\t+=\t\t'<div class=\"uk-grid\">';\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'email' ,colSize: 4, cls:'', model:'currentAsset.email' , label : 'Email Address' , name : 'email' , required:false });\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'tel' ,colSize: 4, cls:'', model:'currentAsset.phone' , label : 'Phone Number' , name : 'phone' , required:false });\r\n\t\t\t\t\tstr\t+=\t\t\telements.form.input({ type:'text' ,colSize: 4, cls:'', model:'currentAsset.logo' , label : 'Company Logo' , name : 'logo' });\r\n\t\t\t\t\tstr\t+=\t\t'</div>';\r\n\t\t\t\t\tstr\t+=\t'</form>';\r\n\t\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns the edit user profile form\r\n\t\t\t * @returns {string}\r\n\t\t\t */\r\n\t\t\teditProfile\t:\tfunction(){\r\n\t\t\t\tvar str\t=\t'';\r\n\t\t\t\t\r\n\t\t\t\tstr += '<div class=\"col m12\">';\r\n\t\t\t\tstr += '<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t'<h4 class=\"left\">Experience</h4>';\r\n\t\t\t\tstr += \t\t'<button ng-click=\"addExperience()\" class=\"right btn-floating btn-small\">'+elements.glyph('add','large')+'</button>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '<div class=\"uk-grid card\" ng-repeat=\"exp in currentAsset.experience\">';\r\n\t\t\t\tstr += \t\t'<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t\t'<button class=\"right btn-floating btn-small\" ng-click=\"removeExperience($index)\">'+elements.glyph('delete','large')+'</button>';\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += \t\t'<div class=\"card-content\">';\r\n\t\t\t\tstr += \t\t\telements.form.experience();\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '<div class=\"col m12\">';\r\n\t\t\t\tstr += '<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t'<h4 class=\"left\">Education</h4>';\r\n\t\t\t\tstr += \t\t'<button ng-click=\"addEducation()\" class=\"right btn-floating\">'+elements.glyph('add','large')+'</button>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '<div class=\"uk-grid card\" ng-repeat=\"exp in currentAsset.education\">';\r\n\t\t\t\tstr += \t\t'<div class=\"uk-grid\">';\r\n\t\t\t\tstr += \t\t\t'<button class=\"right btn-floating btn-small\" ng-click=\"removeEducation($index)\">'+elements.glyph('delete','large')+'</button>';\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += \t\t'<div class=\"card-content\">';\r\n\t\t\t\tstr += \t\t\telements.form.education();\r\n\t\t\t\tstr += \t\t'</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\tstr += '</div>';\r\n\t\t\t\t\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t};\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name jpApp.jobs\r\n * @description\r\n * # jobs\r\n * Service in the jpApp.\r\n */\r\nangular.module('jpApp')\r\n\t.service('jobs', function ($http,elements,$rootScope,$auth) {\r\n\t\t// AngularJS will instantiate a singleton by calling \"new\" on this function\r\n\t\treturn{\r\n\t\t\t/**\r\n\t\t\t * Returns a $http.get promise to get a job based on the job id\r\n\t\t\t * @param {object} $data - The data for the GET request\r\n\t\t\t * @param {integer} $id - The id for the GET request\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tgetData\t:\tfunction($data,$id,$params){\t\r\n\t\t\t\tvar logged_in = $auth.isAuthenticated();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\treturn\t$http.get('api/'+$data+($id ? '/'+$id : '')+(logged_in ? '?token='+$auth.getToken() : ''));\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a $http.put or post promise to store a job based on job id and its data\r\n\t\t\t * @param {String} $name - The name of the PUT/POST endpoint\r\n\t\t\t * @param {object} $data - The data for the PUT/POST request\r\n\t\t\t * @param {integer} $id - The id for the PUT/POST enpoint\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tsendData\t:\tfunction($name,$id,$data){\r\n\t\t\t\tconsole.log($name+' id',$id);\r\n\t\t\t\treturn\t$http.post('api/'+$name+($id ? '/'+$id : ''),$data);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a $http.put or post promise to store a job based on job id and its data\r\n\t\t\t * @param {String} $name - The name of the PUT/POST endpoint\r\n\t\t\t * @param {object} $data - The data for the PUT/POST request\r\n\t\t\t * @param {integer} $id - The id for the PUT/POST enpoint\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tfindJobs : function(location_id,job_id){\r\n\t\t\t\treturn $http.get('api/locations/'+location_id+'/jobs/'+job_id);\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name jpApp.location\r\n * @description\r\n * # location\r\n * Service in the jpApp.\r\n */\r\nangular.module('jpApp')\r\n\t.service('location', function ($q) {\r\n\t\t// AngularJS will instantiate a singleton by calling \"new\" on this function\r\n\t\treturn{\r\n\t\t\t/**\r\n\t\t\t * Returns the current location of the user\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tgetLocation\t:\tfunction(){\r\n\t\t\t\tvar deferred = $q.defer(),\r\n\t\t\t\t\tself = this;\r\n\t\t\t\t\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition(function(pos){\r\n\t\t\t\t\tconsole.log('App Pos',pos);\r\n\t\t\t\t\t//$rootScope.user.location.geo = {lat: , lng: };\r\n\t\t\t\t\tself.geoCoder(pos.coords.latitude,pos.coords.longitude).then(function(result){\r\n\t\t\t\t\t\tdeferred.resolve(result)\r\n\t\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\t\t//To Do Logging Service \r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\tdeferred.reject(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a location based on longitude and latitude\r\n\t\t\t * @param {int} lat - Latitude\r\n\t\t\t * @param {int} lng - Longitude\r\n\t\t\t * @returns {Promise}\r\n\t\t\t */\r\n\t\t\tgeoCoder : function(lat,lng){\r\n\t\t\t\tvar geo = new google.maps.Geocoder,\r\n\t\t\t\t\tdeferred = $q.defer();\r\n\t\t\r\n\t\t\t\tgeo.geocode({'location': {lat: lat, lng: lng}}, function(result, status) {\r\n\t\t\t\t\t//console.log('Geo Coder Result',result,status);\r\n\t\t\t\t\tif(result.length >= 1){\r\n\t\t\t\t\t\tdeferred.resolve(result);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdeferred.reject(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name jpApp.modalService\r\n * @description\r\n * # modalService\r\n * Service in the jpApp.\r\n */\r\nangular.module('jpApp')\r\n  .service('modal', function ($q,$compile,$window) {\r\n    // AngularJS will instantiate a singleton by calling \"new\" on this function\r\n\treturn\t{\r\n\t\tmodal\t:\tfunction(type,title,body,footer,$scope){\r\n\t\t\t\t\t\t\r\n\t\t\tvar str\t=\t'',\r\n\t\t\t\tdeferred\t=\t$q.defer();\r\n\t\t\t\r\n\t\t\tstr\t+=\t'<div id=\"modal\" class=\"uk-modal '+type+'\">';\r\n\t\t\tstr += \t\t'<div class=\"uk-modal-dialog\">';\r\n\t\t\tstr +=  \t\t'<div class=\"uk-modal-spinner uk-hidden\"></div>';\r\n\t\t\tstr\t+=\t\t\ttitle ? '<div class=\"uk-modal-header\">'+title+'</div>' : '';\r\n\t\t\tstr\t+=\t\t\t\t'<div class=\"uk-alert uk-hidden\">';\r\n\t\t\tstr\t+=\t\t\t\t'<a href=\"\" class=\"uk-alert-close uk-close\"></a>';\r\n\t\t\tstr\t+=\t\t\t\t'<p></p>';\r\n\t\t\tstr +=\t\t\t\t'</div>';\r\n\t\t\tstr\t+=\t\t\t\tbody;\r\n\t\t\tstr\t+=\t\t\tfooter ? '<div class=\"uk-modal-footer\">'+footer+'</div>' : '';\r\n\t\t\tstr\t+=\t\t'</div>';\r\n\t\t\tstr\t+=\t'</div>';\r\n\t\t\t\r\n\t\t\tangular.element('body').append($compile(str)($scope));\r\n\t\t\t\r\n\t\t\tconsole.log('Modal $window',$window);\r\n\t\t\t\r\n\t\t\tvar modal = $window.UIkit.modal('#modal').show();\r\n\t\t\t\r\n\t\t\tmodal.on({\r\n\t\t\t\t'hide.uk.modal': function(){\r\n\t\t\t\t\tangular.element('#modal').remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn deferred.promise;\r\n\t\t\t\r\n\t\t\tdeferred.resolve(str);\r\n\t\t}\r\n\t};\r\n});\r\n","'use strict';\n\n/**\n * @ngdoc service\n * @name jpApp.validation\n * @description\n * # validation\n * Service in the jpApp.\n */\nangular.module('jpApp')\n\t.service('validation', function ($q) {\n\t\t// AngularJS will instantiate a singleton by calling \"new\" on this function\n\t\treturn {\n\t\t\tvalidate\t:\tfunction(form){\n\t\t\t\tvar deferred\t\t=\t$q.defer(),\n\t\t\t\t\tvalidated\t\t=\t[],\n\t\t\t\t\tformElement\t\t=\tangular.element(form),\n\t\t\t\t\tvalidatedCount\t=\t0,\n\t\t\t\t\telemCount\t\t=\tformElement.find('input').length;\n\t\t\t\t\t\t\n\t\t\tformElement.find('input').each(function(){\n\t\t\t\t\t\t\tvar element = angular.element(this);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(element[0].dataset.required){\n\t\t\t\t\t\t\t\tif(element.val()){\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t//add success class\n\t\t\t\t\t\t\t\t\telement.parent().removeClass('has-success')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.removeClass('has-error')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.addClass('has-success');\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvalidated.push({\n\t\t\t\t\t\t\t\t\t\tname\t\t:\telement[0].name,\n\t\t\t\t\t\t\t\t\t\tvalue\t\t:\telement.val(),\n\t\t\t\t\t\t\t\t\t\tvalidated\t:\ttrue\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvalidatedCount++;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t//add error validation class to form element\n\t\t\t\t\t\t\t\t\telement.parent().removeClass('has-success')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.removeClass('has-error')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.addClass('has-error');\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvalidated.push({\n\t\t\t\t\t\t\t\t\t\tname\t\t:\telement[0].name,\n\t\t\t\t\t\t\t\t\t\tvalue\t\t:\telement.val(),\n\t\t\t\t\t\t\t\t\t\tvalidated\t:\tfalse\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t//add success class\n\t\t\t\t\t\t\t\telement.parent().removeClass('has-error').addClass('has-success');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvalidated.push({\n\t\t\t\t\t\t\t\t\tname\t\t:\telement[0].name,\n\t\t\t\t\t\t\t\t\tvalue\t\t:\telement.val(),\n\t\t\t\t\t\t\t\t\tvalidated\t:\ttrue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\tconsole.log('Form Object',validatedCount,elemCount);\n\t\t\t\t\n\t\t\t\tif(validatedCount\t===\telemCount){\n\t\t\t\t\tdeferred.resolve({\tvalid\t:\ttrue\t,\tform\t:\tform\t});\n\t\t\t\t}else{\n\t\t\t\t\tdeferred.resolve({\tvalid\t:\tfalse\t,\tform\t:\tform\t});\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\treturn deferred.promise;\n\t\t\t}\n\t\t};\n\t});\n"]}